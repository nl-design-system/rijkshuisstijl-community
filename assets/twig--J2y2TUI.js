import{a as zn,g as Ne,c as Se}from"./_commonjsHelpers-D6-XlEtG.js";var Be,Ut;function Bn(){return Ut||(Ut=1,Be=function(e){e.trace=!1,e.debug=!1,e.cache=!0,e.noop=function(){},e.merge=function(r,n,o){return Object.keys(n).forEach(i=>{o&&!(i in r)||(r[i]=n[i])}),r},e.Error=function(r,n){this.message=r,this.name="TwigException",this.type="TwigException",this.file=n},e.Error.prototype.toString=function(){return this.name+": "+this.message},e.log={trace(...r){e.trace&&console&&console.log(Array.prototype.slice.call(r))},debug(...r){e.debug&&console&&console.log(Array.prototype.slice.call(r))}},typeof console>"u"?e.log.error=function(){}:typeof console.error<"u"?e.log.error=function(...r){console.error(...r)}:typeof console.log<"u"&&(e.log.error=function(...r){console.log(...r)}),e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",outputWhitespacePre:"output_whitespace_pre",outputWhitespacePost:"output_whitespace_post",outputWhitespaceBoth:"output_whitespace_both",logicWhitespacePre:"logic_whitespace_pre",logicWhitespacePost:"logic_whitespace_post",logicWhitespaceBoth:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.outputWhitespacePre,open:"{{-",close:"}}"},{type:e.token.type.outputWhitespacePost,open:"{{",close:"-}}"},{type:e.token.type.outputWhitespaceBoth,open:"{{-",close:"-}}"},{type:e.token.type.logicWhitespacePre,open:"{%-",close:"%}"},{type:e.token.type.logicWhitespacePost,open:"{%",close:"-%}"},{type:e.token.type.logicWhitespaceBoth,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(r){const n={position:null,def:null};let o=null;const i=e.token.definitions.length;let a,c,f,p;for(a=0;a<i;a++)c=e.token.definitions[a],f=r.indexOf(c.open),p=r.indexOf(c.close),e.log.trace("Twig.token.findStart: ","Searching for ",c.open," found at ",f),!(f>=0&&c.open.length!==c.close.length&&p<0)&&(f>=0&&(n.position===null||f<n.position)?(n.position=f,n.def=c,o=p):f>=0&&n.position!==null&&f===n.position&&(c.open.length>n.def.open.length?(n.position=f,n.def=c,o=p):c.open.length===n.def.open.length&&(c.close.length>n.def.close.length,p>=0&&p<o&&(n.position=f,n.def=c,o=p))));return n},e.token.findEnd=function(r,n,o){let i=null,a=!1,c=0,f=null,p=null,u=null,h=null,y=null,x=null,A,R;for(;!a;){if(f=null,p=null,u=r.indexOf(n.close,c),u>=0)i=u,a=!0;else throw new e.Error("Unable to find closing bracket '"+n.close+"' opened near template position "+o);if(n.type===e.token.type.comment||n.type===e.token.type.raw)break;for(R=e.token.strings.length,A=0;A<R;A+=1)y=r.indexOf(e.token.strings[A],c),y>0&&y<u&&(f===null||y<f)&&(f=y,p=e.token.strings[A]);if(f!==null)for(h=f+1,i=null,a=!1;;){if(x=r.indexOf(p,h),x<0)throw e.Error("Unclosed string in template");if(r.slice(x-1,x)==="\\")h=x+1;else{c=x+1;break}}}return i},e.tokenize=function(r){const n=[];let o=0,i=null,a=null;for(;r.length>0;)if(i=e.token.findStart(r),e.log.trace("Twig.tokenize: ","Found token: ",i),i.position===null)n.push({type:e.token.type.raw,value:r,position:{start:o,end:o+i.position}}),r="";else{if(i.position>0&&n.push({type:e.token.type.raw,value:r.slice(0,Math.max(0,i.position)),position:{start:o,end:o+Math.max(0,i.position)}}),r=r.slice(i.position+i.def.open.length),o+=i.position+i.def.open.length,a=e.token.findEnd(r,i.def,o),e.log.trace("Twig.tokenize: ","Token ends at ",a),n.push({type:i.def.type,value:r.slice(0,Math.max(0,a)).trim(),position:{start:o-i.def.open.length,end:o+a+i.def.close.length}}),r.slice(a+i.def.close.length,a+i.def.close.length+1)===`
`)switch(i.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":a+=1;break}r=r.slice(a+i.def.close.length),o+=a+i.def.close.length}return n},e.compile=function(r){const n=this;try{const o=[],i=[];let a=[],c=null,f=null,p=null,u=null,h=null,y=null,x=null,A=null,R=null,N=null,D=null,M=null;const z=function(C){e.expression.compile.call(n,C),i.length>0?a.push(C):o.push(C)},$=function(C){if(f=e.logic.compile.call(n,C),f.position=C.position,N=f.type,D=e.logic.handler[N].open,M=e.logic.handler[N].next,e.log.trace("Twig.compile: ","Compiled logic token to ",f," next is: ",M," open is : ",D),D!==void 0&&!D){if(u=i.pop(),x=e.logic.handler[u.type],!x.next.includes(N))throw new Error(N+" not expected after a "+u.type);u.output=u.output||[],u.output=u.output.concat(a),a=[],R={type:e.token.type.logic,token:u,position:{open:u.position,close:C.position}},i.length>0?a.push(R):o.push(R)}M!==void 0&&M.length>0?(e.log.trace("Twig.compile: ","Pushing ",f," to logic stack."),i.length>0&&(u=i.pop(),u.output=u.output||[],u.output=u.output.concat(a),i.push(u),a=[]),i.push(f)):D!==void 0&&D&&(R={type:e.token.type.logic,token:f,position:f.position},i.length>0?a.push(R):o.push(R))};for(;r.length>0;){switch(c=r.shift(),h=o[o.length-1],y=a[a.length-1],A=r[0],e.log.trace("Compiling token ",c),c.type){case e.token.type.raw:i.length>0?a.push(c):o.push(c);break;case e.token.type.logic:$.call(n,c);break;case e.token.type.comment:break;case e.token.type.output:z.call(n,c);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:switch(c.type!==e.token.type.outputWhitespacePost&&c.type!==e.token.type.logicWhitespacePost&&(h&&h.type===e.token.type.raw&&(o.pop(),h.value=h.value.trimEnd(),o.push(h)),y&&y.type===e.token.type.raw&&(a.pop(),y.value=y.value.trimEnd(),a.push(y))),c.type){case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:z.call(n,c);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:$.call(n,c);break;default:break}c.type!==e.token.type.outputWhitespacePre&&c.type!==e.token.type.logicWhitespacePre&&A&&A.type===e.token.type.raw&&(r.shift(),A.value=A.value.trimStart(),r.unshift(A));break;default:break}e.log.trace("Twig.compile: "," Output: ",o," Logic Stack: ",i," Pending Output: ",a)}if(i.length>0)throw p=i.pop(),new Error("Unable to find an end tag for "+p.type+", expecting one of "+p.next);return o}catch(o){if(n.options.rethrow)throw o.type==="TwigException"&&!o.file&&(o.file=n.id),o;e.log.error("Error compiling twig template "+n.id+": "),o.stack?e.log.error(o.stack):e.log.error(o.toString())}};function s(r,n){if(r.template.options.rethrow)throw typeof n=="string"&&(n=new e.Error(n)),n.type==="TwigException"&&!n.file&&(n.file=r.template.id),n;if(e.log.error("Error parsing twig template "+r.template.id+": "),n.stack?e.log.error(n.stack):e.log.error(n.toString()),e.debug)return n.toString()}e.prepare=function(r){e.log.debug("Twig.prepare: ","Tokenizing ",r);const n=e.tokenize.call(this,r);e.log.debug("Twig.prepare: ","Compiling ",n);const o=e.compile.call(this,n);return e.log.debug("Twig.prepare: ","Compiled ",o),o},e.output=function(r){const{autoescape:n}=this.options;if(!n)return r.join("");const o=typeof n=="string"?n:"html",i=r.map(c=>(c&&c.twigMarkup!==!0&&c.twigMarkup!==o&&!(o==="html"&&c.twigMarkup==="html_attr")&&(c=e.filters.escape(c,[o])),c));if(i.length===0)return"";const a=i.join("");return a.length===0?"":new e.Markup(a,!0)},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(r){if(r==="prototype")throw new e.Error(r+" is not a valid twig identifier");if(e.cache&&Object.hasOwnProperty.call(e.Templates.registry,r))throw new e.Error("There is already a template with the ID "+r);return!0},e.Templates.registerLoader=function(r,n,o){if(typeof n!="function")throw new e.Error("Unable to add loader for "+r+": Invalid function reference given.");o&&(n=n.bind(o)),this.loaders[r]=n},e.Templates.unRegisterLoader=function(r){this.isRegisteredLoader(r)&&delete this.loaders[r]},e.Templates.isRegisteredLoader=function(r){return Object.hasOwnProperty.call(this.loaders,r)},e.Templates.registerParser=function(r,n,o){if(typeof n!="function")throw new e.Error("Unable to add parser for "+r+": Invalid function regerence given.");o&&(n=n.bind(o)),this.parsers[r]=n},e.Templates.unRegisterParser=function(r){this.isRegisteredParser(r)&&delete this.parsers[r]},e.Templates.isRegisteredParser=function(r){return Object.hasOwnProperty.call(this.parsers,r)},e.Templates.save=function(r){if(r.id===void 0)throw new e.Error("Unable to save template with no id");e.Templates.registry[r.id]=r},e.Templates.load=function(r){return Object.hasOwnProperty.call(e.Templates.registry,r)?e.Templates.registry[r]:null},e.Templates.loadRemote=function(r,n,o,i){const a=typeof n.id>"u"?r:n.id,c=e.Templates.registry[a];return e.cache&&typeof c<"u"?(typeof o=="function"&&o(c),c):(n.parser=n.parser||"twig",n.id=a,typeof n.async>"u"&&(n.async=!0),(this.loaders[n.method]||this.loaders.fs).call(this,r,n,o,i))};function t(r,n){const o=Object.prototype.toString.call(n).slice(8,-1);return n!=null&&o===r}return e.Block=function(r,n){this.template=r,this.token=n},e.Block.prototype.render=function(r,n){const o=r.template;let i;return r.template=this.template,this.token.expression?i=e.expression.parseAsync.call(r,this.token.output,n):i=r.parseAsync(this.token.output,n),i.then(a=>e.expression.parseAsync.call(r,{type:e.expression.type.string,value:a},n)).then(a=>(r.template=o,a))},e.ParseState=function(r,n,o){this.renderedBlocks={},this.overrideBlocks=n===void 0?{}:n,this.context=o===void 0?{}:o,this.macros={},this.nestingStack=[],this.template=r},e.ParseState.prototype.getBlock=function(r,n){let o;return n!==!0&&(o=this.overrideBlocks[r]),o===void 0&&(o=this.template.getBlock(r,n)),o===void 0&&this.template.parentTemplate!==null&&(o=this.template.parentTemplate.getBlock(r)),o},e.ParseState.prototype.getBlocks=function(r){let n={};return r!==!1&&this.template.parentTemplate!==null&&this.template.parentTemplate!==this.template&&(n=this.template.parentTemplate.getBlocks()),n={...n,...this.template.getBlocks(),...this.overrideBlocks},n},e.ParseState.prototype.getNestingStackToken=function(r){let n;return this.nestingStack.forEach(o=>{n===void 0&&o.type===r&&(n=o)}),n},e.ParseState.prototype.parse=function(r,n,o){const i=this;let a=[],c=null,f=!0,p=null,u=!0;n&&(i.context=n);function h(x){a.push(x)}function y(x){typeof x.chain<"u"&&(u=x.chain),typeof x.context<"u"&&(i.context=x.context),typeof x.output<"u"&&a.push(x.output)}if(p=e.async.forEach(r,x=>{switch(e.log.debug("Twig.ParseState.parse: ","Parsing token: ",x),x.type){case e.token.type.raw:a.push(e.filters.raw(x.value));break;case e.token.type.logic:return e.logic.parseAsync.call(i,x.token,i.context,u).then(y);case e.token.type.comment:break;case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:case e.token.type.output:return e.log.debug("Twig.ParseState.parse: ","Output token: ",x.stack),e.expression.parseAsync.call(i,x.stack,i.context).then(h)}}).then(()=>(a=e.output.call(i.template,a),f=!1,a)).catch(x=>{o&&s(i,x),c=x}),o)return p;if(c!==null)return s(i,c);if(f)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return a},e.Template=function(r){const{data:n,id:o,base:i,path:a,url:c,name:f,method:p,options:u}=r;this.base=i,this.blocks={defined:{},imported:{}},this.id=o,this.method=p,this.name=f,this.options=u,this.parentTemplate=null,this.path=a,this.url=c,t("String",n)?this.tokens=e.prepare.call(this,n):this.tokens=n,o!==void 0&&e.Templates.save(this)},e.Template.prototype.getBlock=function(r,n,o=!0){let i;return n!==!0&&(i=this.blocks.defined[r]),o&&i===void 0&&(i=this.blocks.imported[r]),i===void 0&&this.parentTemplate!==null&&(i=this.parentTemplate.getBlock(r,n,o=!1)),i},e.Template.prototype.getBlocks=function(){let r={};return r={...r,...this.blocks.imported,...this.blocks.defined},r},e.Template.prototype.render=function(r,n,o){const i=this;return n=n||{},e.async.potentiallyAsync(i,o,()=>{const a=new e.ParseState(i,n.blocks,r);return a.parseAsync(i.tokens).then(c=>{let f,p;return i.parentTemplate!==null?(i.options.allowInlineIncludes&&(f=e.Templates.load(i.parentTemplate),f&&(f.options=i.options)),f||(p=e.path.parsePath(i,i.parentTemplate),f=e.Templates.loadRemote(p,{method:i.getLoaderMethod(),base:i.base,async:!1,id:p,options:i.options})),i.parentTemplate=f,i.parentTemplate.renderAsync(a.context,{blocks:a.getBlocks(!1),isInclude:!0})):n.isInclude===!0?c:c.valueOf()})})},e.Template.prototype.importFile=function(r){let n=null,o;if(!this.url&&this.options.allowInlineIncludes){if(r=this.path?e.path.parsePath(this,r):r,o=e.Templates.load(r),!o&&(o=e.Templates.loadRemote(n,{id:r,method:this.getLoaderMethod(),async:!1,path:r,options:this.options}),!o))throw new e.Error("Unable to find the template "+r);return o.options=this.options,o}return n=e.path.parsePath(this,r),o=e.Templates.loadRemote(n,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:n}),o},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(r){return e.compiler.compile(this,r)},e.Markup=function(r,n){if(typeof r!="string")return r;const o=new String(r);return o.twigMarkup=typeof n>"u"?!0:n,o},e}),Be}var Ve,zt;function Vn(){return zt||(zt=1,Ve=function(e){return e.compiler={module:{}},e.compiler.compile=function(s,t){const r=JSON.stringify(s.tokens),{id:n}=s;let o=null;if(t.module){if(e.compiler.module[t.module]===void 0)throw new e.Error("Unable to find module type "+t.module);o=e.compiler.module[t.module](n,r,t.twig)}else o=e.compiler.wrap(n,r);return o},e.compiler.module={amd(s,t,r){return'define(["'+r+`"], function (Twig) {
	var twig, templates;
twig = Twig.twig;
templates = `+e.compiler.wrap(s,t)+`
	return templates;
});`},node(s,t){return`var twig = require("twig").twig;
exports.template = `+e.compiler.wrap(s,t)},cjs2(s,t,r){return'module.declare([{ twig: "'+r+`" }], function (require, exports, module) {
	var twig = require("twig").twig;
	exports.template = `+e.compiler.wrap(s,t)+`
});`}},e.compiler.wrap=function(s,t){return'twig({id:"'+s.replace('"','\\"')+'", data:'+t+`, precompiled: true});
`},e}),Ve}var We,Bt;function Wn(){return Bt||(Bt=1,We=function(e){e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};const s=function(t,r){if(r==null)return null;if(r.indexOf!==void 0)return(t===r||t!=="")&&r.includes(t);let n;for(n in r)if(Object.hasOwnProperty.call(r,n)&&r[n]===t)return!0;return!1};return e.expression.operator.lookup=function(t,r){switch(t){case"..":r.precidence=20,r.associativity=e.expression.operator.leftToRight;break;case",":r.precidence=18,r.associativity=e.expression.operator.leftToRight;break;case"?:":case"?":case":":r.precidence=16,r.associativity=e.expression.operator.rightToLeft;break;case"??":r.precidence=15,r.associativity=e.expression.operator.rightToLeft;break;case"or":r.precidence=14,r.associativity=e.expression.operator.leftToRight;break;case"and":r.precidence=13,r.associativity=e.expression.operator.leftToRight;break;case"b-or":r.precidence=12,r.associativity=e.expression.operator.leftToRight;break;case"b-xor":r.precidence=11,r.associativity=e.expression.operator.leftToRight;break;case"b-and":r.precidence=10,r.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":r.precidence=9,r.associativity=e.expression.operator.leftToRight;break;case"<=>":r.precidence=9,r.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":r.precidence=8,r.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":r.precidence=6,r.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":r.precidence=5,r.associativity=e.expression.operator.leftToRight;break;case"not":r.precidence=3,r.associativity=e.expression.operator.rightToLeft;break;case"matches":r.precidence=8,r.associativity=e.expression.operator.leftToRight;break;case"starts with":r.precidence=8,r.associativity=e.expression.operator.leftToRight;break;case"ends with":r.precidence=8,r.associativity=e.expression.operator.leftToRight;break;default:throw new e.Error("Failed to lookup operator: "+t+" is an unknown operator.")}return r.operator=t,r},e.expression.operator.parse=function(t,r){e.log.trace("Twig.expression.operator.parse: ","Handling ",t);let n,o,i;if(t==="?"&&(i=r.pop()),o=r.pop(),t!=="not"&&(n=r.pop()),t!=="in"&&t!=="not in"&&t!=="??"&&(n&&Array.isArray(n)&&(n=n.length),t!=="?"&&o&&Array.isArray(o)&&(o=o.length)),t==="matches"&&o&&typeof o=="string"){const a=o.match(/^\/(.*)\/([gims]?)$/),c=a[1],f=a[2];o=new RegExp(c,f)}switch(t){case":":break;case"??":n===void 0&&(n=o,o=i,i=void 0),n!=null?r.push(n):r.push(o);break;case"?:":e.lib.boolval(n)?r.push(n):r.push(o);break;case"?":n===void 0&&(n=o,o=i,i=void 0),e.lib.boolval(n)?r.push(o):r.push(i);break;case"+":o=parseFloat(o),n=parseFloat(n),r.push(n+o);break;case"-":o=parseFloat(o),n=parseFloat(n),r.push(n-o);break;case"*":o=parseFloat(o),n=parseFloat(n),r.push(n*o);break;case"/":o=parseFloat(o),n=parseFloat(n),r.push(n/o);break;case"//":o=parseFloat(o),n=parseFloat(n),r.push(Math.floor(n/o));break;case"%":o=parseFloat(o),n=parseFloat(n),r.push(n%o);break;case"~":r.push((typeof n<"u"&&n!==null?n.toString():"")+(typeof o<"u"&&o!==null?o.toString():""));break;case"not":case"!":r.push(!e.lib.boolval(o));break;case"<=>":r.push(n===o?0:n<o?-1:1);break;case"<":r.push(n<o);break;case"<=":r.push(n<=o);break;case">":r.push(n>o);break;case">=":r.push(n>=o);break;case"===":r.push(n===o);break;case"==":r.push(n==o);break;case"!==":r.push(n!==o);break;case"!=":r.push(n!=o);break;case"or":r.push(e.lib.boolval(n)||e.lib.boolval(o));break;case"b-or":r.push(n|o);break;case"b-xor":r.push(n^o);break;case"and":r.push(e.lib.boolval(n)&&e.lib.boolval(o));break;case"b-and":r.push(n&o);break;case"**":r.push(n**o);break;case"not in":r.push(!s(n,o));break;case"in":r.push(s(n,o));break;case"matches":r.push(o.test(n));break;case"starts with":r.push(typeof n=="string"&&n.indexOf(o)===0);break;case"ends with":r.push(typeof n=="string"&&n.includes(o,n.length-o.length));break;case"..":r.push(e.functions.range(n,o));break;default:throw new e.Error("Failed to parse operator: "+t+" is an unknown operator.")}},e}),We}var Ye,Vt;function Yn(){return Vt||(Vt=1,Ye=function(e){function s(t,r,n){return r?e.expression.parseAsync.call(t,r,n):e.Promise.resolve(!1)}for(e.expression={},Wn()(e),e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.subexpression.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start,e.expression.type.subexpression.start,e.expression.type.operator.unary]},e.expression.set.operationsExtended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets,e.expression.type.slice]),e.expression.fn={compile:{push(t,r,n){n.push(t)},pushBoth(t,r,n){n.push(t),r.push(t)}},parse:{push(t,r){r.push(t)},pushValue(t,r){r.push(t.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_]\w*(\s?(?:as|by))?)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile(t,r,n){t.filter=t.match[2],t.modifier=t.match[1],delete t.match,delete t.value,n.push(t)},parse(t,r,n){const o=r.pop();return s(this,t.params,n).then(a=>{const c=e.test(t.filter,o,a);t.modifier==="not"?r.push(!c):r.push(c)})}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile(t,r,n){let o=r.length-1,i;for(delete t.match,delete t.value;o>=0;o--){if(i=r.pop(),i.type===e.expression.type.object.start||i.type===e.expression.type.parameter.start||i.type===e.expression.type.array.start){r.push(i);break}n.push(i)}n.push(t)}},{type:e.expression.type.number,regex:/^-?\d+(\.\d+)?/,next:e.expression.set.operations,compile(t,r,n){t.value=Number(t.value),n.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.operator.binary,regex:/(^\?\?|^\?:|^(b-and)|^(b-or)|^(b-xor)|^[+\-~%?]|^(<=>)|^[:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[(|\s+]|^(or)[(|\s+]|^(in)[(|\s+]|^(not in)[(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:e.expression.set.expressions,transform(t,r){switch(t[0]){case"and(":case"or(":case"in(":case"not in(":return r[r.length-1].value=t[2],t[0];default:return""}},compile(t,r,n){delete t.match,t.value=t.value.trim();const{value:o}=t,i=e.expression.operator.lookup(o,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",i," from ",o);r.length>0&&(r[r.length-1].type===e.expression.type.operator.unary||r[r.length-1].type===e.expression.type.operator.binary)&&(i.associativity===e.expression.operator.leftToRight&&i.precidence>=r[r.length-1].precidence||i.associativity===e.expression.operator.rightToLeft&&i.precidence>r[r.length-1].precidence);){const a=r.pop();n.push(a)}if(o===":"){if(!(r[r.length-1]&&r[r.length-1].value==="?")){const a=n.pop();if(a.type===e.expression.type.string||a.type===e.expression.type.variable)t.key=a.value;else if(a.type===e.expression.type.number)t.key=a.value.toString();else if(a.expression&&(a.type===e.expression.type.parameter.end||a.type===e.expression.type.subexpression.end))t.params=a.params;else throw new e.Error("Unexpected value before ':' of "+a.type+" = "+a.value);n.push(t)}}else r.push(i)},parse(t,r,n){const o=this;if(t.key)r.push(t);else{if(t.params)return e.expression.parseAsync.call(o,t.params,n).then(i=>{t.key=i,r.push(t),n.loop||delete t.params});e.expression.operator.parse(t.value,r)}}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile(t,r,n){delete t.match,t.value=t.value.trim();const{value:o}=t,i=e.expression.operator.lookup(o,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",i," from ",o);r.length>0&&(r[r.length-1].type===e.expression.type.operator.unary||r[r.length-1].type===e.expression.type.operator.binary)&&(i.associativity===e.expression.operator.leftToRight&&i.precidence>=r[r.length-1].precidence||i.associativity===e.expression.operator.rightToLeft&&i.precidence>r[r.length-1].precidence);){const a=r.pop();n.push(a)}r.push(i)},parse(t,r){e.expression.operator.parse(t.value,r)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operationsExtended,compile(t,r,n){let{value:o}=t;delete t.match,o.slice(0,1)==='"'?o=o.replace('\\"','"'):o=o.replace("\\'","'"),t.value=o.slice(1,-1).replace(/\\n/g,`
`).replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),n.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.subexpression.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.subexpression.end]),compile(t,r,n){t.value="(",n.push(t),r.push(t)},parse:e.expression.fn.parse.push},{type:e.expression.type.subexpression.end,regex:/^\)/,next:e.expression.set.operationsExtended,validate(t,r){let n=r.length-1,o=!1,i=!1,a=0;for(;!o&&n>=0;){const c=r[n];o=c.type===e.expression.type.subexpression.start,o&&i&&(i=!1,o=!1),c.type===e.expression.type.parameter.start?a++:c.type===e.expression.type.parameter.end?a--:c.type===e.expression.type.subexpression.end&&(i=!0),n--}return o&&a===0},compile(t,r,n){let o;const i=t;for(o=r.pop();r.length>0&&o.type!==e.expression.type.subexpression.start;)n.push(o),o=r.pop();const a=[];for(;t.type!==e.expression.type.subexpression.start;)a.unshift(t),t=n.pop();a.unshift(t),o=r[r.length-1],o===void 0||o.type!==e.expression.type._function&&o.type!==e.expression.type.filter&&o.type!==e.expression.type.test&&o.type!==e.expression.type.key.brackets?(i.expression=!0,a.pop(),a.shift(),i.params=a,n.push(i)):(i.expression=!1,o.params=a)},parse(t,r,n){const o=this;if(t.expression)return e.expression.parseAsync.call(o,t.params,n).then(i=>{r.push(i)});throw new e.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),validate(t,r){const n=r[r.length-1];return n&&!e.expression.reservedWords.includes(n.value.trim())},compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operationsExtended,compile(t,r,n){let o;const i=t;for(o=r.pop();r.length>0&&o.type!==e.expression.type.parameter.start;)n.push(o),o=r.pop();const a=[];for(;t.type!==e.expression.type.parameter.start;)a.unshift(t),t=n.pop();a.unshift(t),t=n[n.length-1],t===void 0||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets?(i.expression=!0,a.pop(),a.shift(),i.params=a,n.push(i)):(i.expression=!1,t.params=a)},parse(t,r,n){const o=[];let i=!1,a=null;const c=this;if(t.expression)return e.expression.parseAsync.call(c,t.params,n).then(f=>{r.push(f)});for(;r.length>0;){if(a=r.pop(),a&&a.type&&a.type===e.expression.type.parameter.start){i=!0;break}o.unshift(a)}if(!i)throw new e.Error("Expected end of parameter set.");r.push(o)}},{type:e.expression.type.slice,regex:/^\[(-?\w*:-?\w*)\]/,next:e.expression.set.operationsExtended,compile(t,r,n){const o=t.match[1].split(":"),i=o[0],a=o[1];t.value="slice",t.params=[i,a],a||(t.params=[i]),n.push(t)},parse(t,r,n){const o=r.pop();let{params:i}=t;const a=this;if(parseInt(i[0],10).toString()===i[0])i[0]=parseInt(i[0],10);else{const c=n[i[0]];if(a.template.options.strictVariables&&c===void 0)throw new e.Error('Variable "'+i[0]+'" does not exist.');i[0]=c}if(i[1])if(parseInt(i[1],10).toString()===i[1])i[1]=parseInt(i[1],10);else{const c=n[i[1]];if(a.template.options.strictVariables&&c===void 0)throw new e.Error('Variable "'+i[1]+'" does not exist.');c===void 0?i=[i[0]]:i[1]=c}r.push(e.filter.call(a,t.value,o,i))}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operationsExtended,compile(t,r,n){let o=r.length-1,i;for(;o>=0&&(i=r.pop(),i.type!==e.expression.type.array.start);o--)n.push(i);n.push(t)},parse(t,r){const n=[];let o=!1,i=null;for(;r.length>0;){if(i=r.pop(),i&&i.type&&i.type===e.expression.type.array.start){o=!0;break}n.unshift(i)}if(!o)throw new e.Error("Expected end of array.");r.push(n)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operationsExtended,compile(t,r,n){let o=r.length-1,i;for(;o>=0&&(i=r.pop(),!(i&&i.type===e.expression.type.object.start));o--)n.push(i);n.push(t)},parse(t,r){const n={};let o=!1,i=null,a=!1,c=null;for(;r.length>0;){if(i=r.pop(),i&&i.type&&i.type===e.expression.type.object.start){o=!0;break}if(i&&i.type&&(i.type===e.expression.type.operator.binary||i.type===e.expression.type.operator.unary)&&i.key){if(!a)throw new e.Error("Missing value for key '"+i.key+"' in object definition.");n[i.key]=c,n._keys===void 0&&(n._keys=[]),n._keys.unshift(i.key),c=null,a=!1}else a=!0,c=i}if(!o)throw new e.Error("Unexpected end of object.");r.push(n)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_-]*)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(t,r,n){t.value=t.match[1],n.push(t)},parse(t,r,n){const o=r.pop(),i=this;return s(i,t.params,n).then(a=>e.filter.call(i,t.value,o,a)).then(a=>{r.push(a)})}},{type:e.expression.type._function,regex:/^([a-zA-Z_]\w*)\s*\(/,next:e.expression.type.parameter.start,validate(t){return t[1]&&!e.expression.reservedWords.includes(t[1])},transform(){return"("},compile(t,r,n){const o=t.match[1];t.fn=o,delete t.match,delete t.value,n.push(t)},parse(t,r,n){const o=this,{fn:i}=t;let a;return s(o,t.params,n).then(c=>{if(e.functions[i])a=e.functions[i].apply(o,c);else if(typeof n[i]=="function")a=n[i](...c);else throw new e.Error(i+" function does not exist and is not defined in the context");return a}).then(c=>{r.push(c)})}},{type:e.expression.type.variable,regex:/^[a-zA-Z_]\w*/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate(t){return!e.expression.reservedWords.includes(t[0])},parse(t,r,n){const o=this;return e.expression.resolveAsync.call(o,n[t.value],n).then(i=>{if(o.template.options.strictVariables&&i===void 0)throw new e.Error('Variable "'+t.value+'" does not exist.');r.push(i)})}},{type:e.expression.type.key.period,regex:/^\.(\w+)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(t,r,n){t.key=t.match[1],delete t.match,delete t.value,n.push(t)},parse(t,r,n,o){const i=this,{key:a}=t,c=r.pop();let f;if(c&&!Object.prototype.hasOwnProperty.call(c,a)&&i.template.options.strictVariables)throw Object.keys(c).length>0?new e.Error('Key "'+a+'" for object with keys "'+Object.keys(c).join(", ")+'" does not exist.'):new e.Error('Key "'+a+'" does not exist as the object is empty.');return s(i,t.params,n).then(p=>{if(c==null)f=void 0;else{const u=function(h){return h.slice(0,1).toUpperCase()+h.slice(1)};typeof c=="object"&&a in c?f=c[a]:c["get"+u(a)]?f=c["get"+u(a)]:c["is"+u(a)]?f=c["is"+u(a)]:f=void 0}return e.expression.resolveAsync.call(i,f,n,p,o,c)}).then(p=>{r.push(p)})}},{type:e.expression.type.key.brackets,regex:/^\[([^\]]*)\]/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(t,r,n){const o=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:o}).stack,n.push(t)},parse(t,r,n,o){const i=this;let a=null,c,f;return s(i,t.params,n).then(p=>(a=p,e.expression.parseAsync.call(i,t.stack,n))).then(p=>{if(c=r.pop(),c&&!Object.prototype.hasOwnProperty.call(c,p)&&i.template.options.strictVariables){const u=Object.keys(c);throw u.length>0?new e.Error('Key "'+p+'" for array with keys "'+u.join(", ")+'" does not exist.'):new e.Error('Key "'+p+'" does not exist as the array is empty.')}else if(c==null)return null;return typeof c=="object"&&p in c?f=c[p]:f=null,e.expression.resolveAsync.call(i,f,c,a,o)}).then(p=>{r.push(p)})}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile(t,r,n){delete t.match,t.value=null,n.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse(t,r,n){r.push(n)}},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile(t,r,n){t.value=t.match[0].toLowerCase()==="true",delete t.match,n.push(t)},parse:e.expression.fn.parse.pushValue}],e.expression.resolveAsync=function(t,r,n,o,i){const a=this;if(typeof t!="function")return e.Promise.resolve(t);let c=e.Promise.resolve(n);return o&&o.type===e.expression.type.parameter.end&&(c=c.then(()=>o.params&&e.expression.parseAsync.call(a,o.params,r,!0)).then(p=>(o.cleanup=!0,p))),c.then(f=>t.apply(i||r,f||[]))},e.expression.resolve=function(t,r,n,o,i){return e.async.potentiallyAsync(this,!1,function(){return e.expression.resolveAsync.call(this,t,r,n,o,i)})},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){let r=t.value;const n=[];let o=0,i=null,a,c,f,p,u,h=[];const y=function(...x){let A=arguments.length-2;const R=new Array(A);for(;A-- >0;)R[A]=x[A];if(e.log.trace("Twig.expression.tokenize","Matched a ",a," regular expression of ",R),i&&!i.includes(a))return h.push(a+" cannot follow a "+n[n.length-1].type+" at template:"+o+" near '"+R[0].slice(0,20)+"...'"),R[0];const N=e.expression.handler[a];if(N.validate&&!N.validate(R,n))return R[0];h=[];const D={type:a,value:R[0],match:R};return t.position&&(D.position=t.position),n.push(D),u=!0,i=p,o+=R[0].length,N.transform?N.transform(R,n):""};for(e.log.debug("Twig.expression.tokenize","Tokenizing expression ",r);r.length>0;){r=r.trim();for(a in e.expression.handler)if(Object.hasOwnProperty.call(e.expression.handler,a)){if(p=e.expression.handler[a].next,c=e.expression.handler[a].regex,e.log.trace("Checking type ",a," on ",r),u=!1,Array.isArray(c))for(f=c.length;f-- >0;)r=r.replace(c[f],y);else r=r.replace(c,y);if(u)break}if(!u)throw h.length>0?new e.Error(h.join(" OR ")):new e.Error("Unable to parse '"+r+"' at template position"+o)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",n),n},e.expression.compile=function(t){const r=e.expression.tokenize(t);let n=null;const o=[],i=[];let a=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",t.value);r.length>0;)n=r.shift(),a=e.expression.handler[n.type],e.log.trace("Twig.expression.compile: ","Compiling ",n),a.compile(n,i,o),e.log.trace("Twig.expression.compile: ","Stack is",i),e.log.trace("Twig.expression.compile: ","Output is",o);for(;i.length>0;)o.push(i.pop());return e.log.trace("Twig.expression.compile: ","Final output is",o),t.stack=o,delete t.value,t},e.expression.parse=function(t,r,n,o){const i=this;Array.isArray(t)||(t=[t]);const a=[],c=[],f=e.expression.type.operator.binary;return e.async.potentiallyAsync(i,o,()=>e.async.forEach(t,(p,u)=>{let h=null,y=null,x;if(!p.cleanup)return t.length>u+1&&(y=t[u+1]),h=e.expression.handler[p.type],h.parse&&(x=h.parse.call(i,p,a,r,y)),p.type===f&&r.loop&&c.push(p),x}).then(()=>{let p=c.length,u=null;for(;p-- >0;)u=c[p],u.params&&u.key&&delete u.key;if(n){const h=a.splice(0);a.push(h)}return a.pop()}))},e}),Ye}var He,Wt;function Hn(){return Wt||(Wt=1,He=function(e){function s(t,r){const n=Object.prototype.toString.call(r).slice(8,-1);return r!=null&&n===t}return e.filters={upper(t){return typeof t!="string"?t:t.toUpperCase()},lower(t){return typeof t!="string"?t:t.toLowerCase()},capitalize(t){return typeof t!="string"?t:t.slice(0,1).toUpperCase()+t.toLowerCase().slice(1)},title(t){return typeof t!="string"?t:t.toLowerCase().replace(/(^|\s)([a-z])/g,(r,n,o)=>n+o.toUpperCase())},length(t){return e.lib.is("Array",t)||typeof t=="string"?t.length:e.lib.is("Object",t)?t._keys===void 0?Object.keys(t).length:t._keys.length:0},reverse(t){if(s("Array",t))return t.reverse();if(s("String",t))return t.split("").reverse().join("");if(s("Object",t)){const r=t._keys||Object.keys(t).reverse();return t._keys=r,t}},sort(t){if(s("Array",t))return t.sort();if(s("Object",t)){delete t._keys;const n=Object.keys(t).sort((o,i)=>{let a,c;return t[o]>t[i]==!(t[o]<=t[i])?t[o]>t[i]?1:t[o]<t[i]?-1:0:!isNaN(a=parseFloat(t[o]))&&!isNaN(c=parseFloat(t[i]))?a>c?1:a<c?-1:0:typeof t[o]=="string"?t[o]>t[i].toString()?1:t[o]<t[i].toString()?-1:0:typeof t[i]=="string"?t[o].toString()>t[i]?1:t[o].toString()<t[i]?-1:0:null});return t._keys=n,t}},keys(t){if(t==null)return;const r=t._keys||Object.keys(t),n=[];return r.forEach(o=>{o!=="_keys"&&Object.hasOwnProperty.call(t,o)&&n.push(o)}),n},url_encode(t){if(t==null)return;if(e.lib.is("Object",t)){const n=function(o,i){const a=[];return(o._keys||Object.keys(o)).forEach(f=>{if(!Object.prototype.hasOwnProperty.call(o,f))return;const p=i?i+"["+f+"]":f,u=o[f];a.push(e.lib.is("Object",u)||Array.isArray(u)?n(u,p):encodeURIComponent(p)+"="+encodeURIComponent(u))}),a.join("&amp;")};return n(t)}let r=encodeURIComponent(t);return r=r.replace("'","%27"),r},join(t,r){if(t==null)return;let n="",o=[],i=null;return r&&r[0]&&(n=r[0]),s("Array",t)?o=t:(i=t._keys||Object.keys(t),i.forEach(a=>{a!=="_keys"&&Object.hasOwnProperty.call(t,a)&&o.push(t[a])})),o.join(n)},default(t,r){if(r!==void 0&&r.length>1)throw new e.Error("default filter expects one argument");return t==null||t===""?r===void 0?"":r[0]:t},json_encode(t){if(t==null)return"null";if(typeof t=="object"&&s("Array",t)){const r=[];return t.forEach(n=>{r.push(e.filters.json_encode(n))}),"["+r.join(",")+"]"}if(typeof t=="object"&&s("Date",t))return'"'+t.toISOString()+'"';if(typeof t=="object"){const r=t._keys||Object.keys(t),n=[];return r.forEach(o=>{n.push(JSON.stringify(o)+":"+e.filters.json_encode(t[o]))}),"{"+n.join(",")+"}"}return JSON.stringify(t)},merge(t,r){let n=[],o=0,i=[];if(s("Array",t)?r.forEach(a=>{s("Array",a)||(n={})}):n={},s("Array",n)||(n._keys=[]),s("Array",t)?t.forEach(a=>{n._keys&&n._keys.push(o),n[o]=a,o++}):(i=t._keys||Object.keys(t),i.forEach(a=>{n[a]=t[a],n._keys.push(a);const c=parseInt(a,10);!isNaN(c)&&c>=o&&(o=c+1)})),r.forEach(a=>{s("Array",a)?a.forEach(c=>{n._keys&&n._keys.push(o),n[o]=c,o++}):(i=a._keys||Object.keys(a),i.forEach(c=>{n[c]||n._keys.push(c),n[c]=a[c];const f=parseInt(c,10);!isNaN(f)&&f>=o&&(o=f+1)}))}),r.length===0)throw new e.Error("Filter merge expects at least one parameter");return n},date(t,r){const n=e.functions.date(t),o=r&&r.length?r[0]:"F j, Y H:i";return e.lib.date(o.replace(/\\\\/g,"\\"),n)},date_modify(t,r){if(t==null)return;if(r===void 0||r.length!==1)throw new e.Error("date_modify filter expects 1 argument");const n=r[0];let o;return e.lib.is("Date",t)&&(o=e.lib.strtotime(n,t.getTime()/1e3)),e.lib.is("String",t)&&(o=e.lib.strtotime(n,e.lib.strtotime(t))),e.lib.is("Number",t)&&(o=e.lib.strtotime(n,t)),new Date(o*1e3)},replace(t,r){if(t==null)return;const n=r[0];let o;for(o in n)Object.hasOwnProperty.call(n,o)&&o!=="_keys"&&(t=e.lib.replaceAll(t,o,n[o]));return t},format(t,r){if(t!=null)return e.lib.vsprintf(t,r)},striptags(t,r){if(t!=null)return e.lib.stripTags(t,r)},escape(t,r){if(t==null||t==="")return;let n="html";if(r&&r.length&&r[0]!==!0&&(n=r[0]),n==="html"){const o=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return new e.Markup(o,"html")}if(n==="js"){const o=t.toString();let i="";for(let a=0;a<o.length;a++)if(o[a].match(/^[a-zA-Z0-9,._]$/))i+=o[a];else{const c=o.charAt(a),f=o.charCodeAt(a),p={"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};p[c]?i+=p[c]:i+=e.lib.sprintf("\\u%04s",f.toString(16).toUpperCase())}return new e.Markup(i,"js")}if(n==="css"){const o=t.toString();let i="";for(let a=0;a<o.length;a++)if(o[a].match(/^[a-zA-Z0-9]$/))i+=o[a];else{const c=o.charCodeAt(a);i+="\\"+c.toString(16).toUpperCase()+" "}return new e.Markup(i,"css")}if(n==="url"){const o=e.filters.url_encode(t);return new e.Markup(o,"url")}if(n==="html_attr"){const o=t.toString();let i="";for(let a=0;a<o.length;a++)if(o[a].match(/^[a-zA-Z0-9,.\-_]$/))i+=o[a];else if(o[a].match(/^[&<>"]$/))i+=o[a].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{const c=o.charCodeAt(a);c<=31&&c!==9&&c!==10&&c!==13?i+="&#xFFFD;":c<128?i+=e.lib.sprintf("&#x%02s;",c.toString(16).toUpperCase()):i+=e.lib.sprintf("&#x%04s;",c.toString(16).toUpperCase())}return new e.Markup(i,"html_attr")}throw new e.Error("escape strategy unsupported")},e(t,r){return e.filters.escape(t,r)},nl2br(t){if(t==null||t==="")return;const r="BACKSLASH_n_replace",n="<br />"+r;return t=e.filters.escape(t).replace(/\r\n/g,n).replace(/\r/g,n).replace(/\n/g,n),t=e.lib.replaceAll(t,r,`
`),new e.Markup(t)},number_format(t,r){let n=t;const o=r&&r[0]?r[0]:void 0,i=r&&r[1]!==void 0?r[1]:".",a=r&&r[2]!==void 0?r[2]:",";n=String(n).replace(/[^0-9+\-Ee.]/g,"");const c=isFinite(Number(n))?Number(n):0,f=isFinite(Number(o))?Math.abs(o):0;let p="";return p=(f?function(h,y){const x=10**y;return String(Math.round(h*x)/x)}(c,f):String(Math.round(c))).split("."),p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(p[1]||"").length<f&&(p[1]=p[1]||"",p[1]+=new Array(f-p[1].length+1).join("0")),p.join(i)},trim(t,r){if(t==null)return;let n=String(t),o;r&&r[0]?o=String(r[0]):o=` 
\r	\f\v            ​\u2028\u2029　`;for(let i=0;i<n.length;i++)if(!o.includes(n.charAt(i))){n=n.slice(Math.max(0,i));break}for(let i=n.length-1;i>=0;i--)if(!o.includes(n.charAt(i))){n=n.slice(0,Math.max(0,i+1));break}return o.includes(n.charAt(0))?"":n},truncate(t,r){let n=30,o=!1,i="...";if(t=String(t),r&&(r[0]&&(n=r[0]),r[1]&&(o=r[1]),r[2]&&(i=r[2])),t.length>n){if(o&&(n=t.indexOf(" ",n),n===-1))return t;t=t.slice(0,n)+i}return t},slice(t,r){if(t==null)return;if(r===void 0||r.length===0)throw new e.Error("slice filter expects at least 1 argument");const n=r[0]||0;let o=r.length>1?r[1]:t.length;const i=n>=0?n:Math.max(t.length+n,0);if(o<0&&(o=t.length-i+o),e.lib.is("Array",t)){const a=[];for(let c=i;c<i+o&&c<t.length;c++)a.push(t[c]);return a}if(e.lib.is("String",t))return t.slice(i,i+o);throw new e.Error("slice filter expects value to be an array or string")},abs(t){if(t!=null)return Math.abs(t)},first(t){if(s("Array",t))return t[0];if(s("Object",t)){if("_keys"in t)return t[t._keys[0]]}else if(typeof t=="string")return t.slice(0,1)},split(t,r){if(t!=null){if(r===void 0||r.length===0||r.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){const n=r[0],o=r[1],i=t.split(n);if(o===void 0)return i;if(o<0)return t.split(n,i.length+o);const a=[];if(n==="")for(;i.length>0;){let c="";for(let f=0;f<o&&i.length>0;f++)c+=i.shift();a.push(c)}else{for(let c=0;c<o-1&&i.length>0;c++)a.push(i.shift());i.length>0&&a.push(i.join(n))}return a}throw new e.Error("split filter expects value to be a string")}},last(t){if(e.lib.is("Object",t)){let r;return t._keys===void 0?r=Object.keys(t):r=t._keys,t[r[r.length-1]]}return e.lib.is("Number",t)?t.toString().slice(-1):t[t.length-1]},raw(t){return new e.Markup(t||"")},batch(t,r){let n=r.shift();const o=r.shift();let i,a;if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",n))throw new e.Error("batch filter expects size to be a number");n=Math.ceil(n);const c=e.lib.chunkArray(t,n);if(o&&t.length%n!==0){for(i=c.pop(),a=n-i.length;a--;)i.push(o);c.push(i)}return c},round(t,r){r=r||[];const n=r.length>0?r[0]:0,o=r.length>1?r[1]:"common";if(t=parseFloat(t),n&&!e.lib.is("Number",n))throw new e.Error("round filter expects precision to be a number");if(o==="common")return e.lib.round(t,n);if(!e.lib.is("Function",Math[o]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[o](t*10**n)/10**n},spaceless(t){return t.replace(/>\s+</g,"><").trim()}},e.filter=function(t,r,n){const o=this;if(!e.filters[t])throw new e.Error("Unable to find filter "+t);return e.filters[t].call(o,r,n)},e.filter.extend=function(t,r){e.filters[t]=r},e}),He}var Ge={exports:{}},Yt;function Gn(){return Yt||(Yt=1,function(e){e.exports=function(s){const t='Template "{name}" is not defined.';return s.functions={range(r,n,o){const i=[];let a,c;const f=o||1;let p=!1;if(!isNaN(r)&&!isNaN(n)?(a=parseInt(r,10),c=parseInt(n,10)):isNaN(r)&&isNaN(n)?(p=!0,a=r.charCodeAt(0),c=n.charCodeAt(0)):(a=isNaN(r)?0:r,c=isNaN(n)?0:n),!(a>c))for(;a<=c;)i.push(p?String.fromCharCode(a):a),a+=f;else for(;a>=c;)i.push(p?String.fromCharCode(a):a),a-=f;return i},cycle(r,n){const o=n%r.length;return r[o]},dump(...r){const n=[...r],o=this,i=`
`,a="  ";let c=0,f="";const p=function(y){let x="";for(;y>0;)y--,x+=a;return x},u=function(y){f+=p(c),typeof y=="object"?h(y):typeof y=="function"?f+="function()"+i:typeof y=="string"?f+="string("+y.length+') "'+y+'"'+i:typeof y=="number"?f+="number("+y+")"+i:typeof y=="boolean"&&(f+="bool("+y+")"+i)},h=function(y){let x;if(y===null)f+="NULL"+i;else if(y===void 0)f+="undefined"+i;else if(typeof y=="object"){f+=p(c)+typeof y,c++,f+="("+function(A){let R=0,N;for(N in A)Object.hasOwnProperty.call(A,N)&&R++;return R}(y)+") {"+i;for(x in y)Object.hasOwnProperty.call(y,x)&&(f+=p(c)+"["+x+"]=> "+i,u(y[x]));c--,f+=p(c)+"}"+i}else u(y)};return n.length===0&&n.push(o.context),n.forEach(y=>{h(y)}),f},date(r){let n;if(r==null||r==="")n=new Date;else if(s.lib.is("Date",r))n=r;else if(s.lib.is("String",r))r.match(/^\d+$/)?n=new Date(r*1e3):n=new Date(s.lib.strtotime(r)*1e3);else if(s.lib.is("Number",r))n=new Date(r*1e3);else throw new s.Error("Unable to parse date "+r);return n},block(r){const n=this,o=n.getBlock(r);if(o!==void 0)return o.render(n,n.context)},parent(){const r=this;return r.getBlock(r.getNestingStackToken(s.logic.type.block).blockName,!0).render(r,r.context)},attribute(r,n,o){return s.lib.is("Object",r)&&Object.hasOwnProperty.call(r,n)?typeof r[n]=="function"?r[n].apply(void 0,o):r[n]:r&&r[n]||void 0},max(r,...n){return s.lib.is("Object",r)?(delete r._keys,s.lib.max(r)):Reflect.apply(s.lib.max,null,[r,...n])},min(r,...n){return s.lib.is("Object",r)?(delete r._keys,s.lib.min(r)):Reflect.apply(s.lib.min,null,[r,...n])},template_from_string(r){const n=this;return r===void 0&&(r=""),s.Templates.parsers.twig({options:n.template.options,data:r})},random(r){function o(i){const a=Math.floor(Math.random()*2147483648),c=Math.min.call(null,0,i),f=Math.max.call(null,0,i);return c+Math.floor((f-c+1)*a/2147483648)}if(s.lib.is("Number",r))return o(r);if(s.lib.is("String",r))return r.charAt(o(r.length-1));if(s.lib.is("Array",r))return r[o(r.length-1)];if(s.lib.is("Object",r)){const i=Object.keys(r);return r[i[o(i.length-1)]]}return o(2147483647)},source(r,n){const o=this,{namespaces:i}=o.template.options;let a,c=!1;const f=typeof window>"u";let p,u=r;i&&typeof i=="object"&&(u=s.path.expandNamespace(i,u)),f?p="fs":p="ajax";const h={id:r,path:u,method:p,parser:"source",async:!1,fetchTemplateSource:!0};typeof n>"u"&&(n=!1);try{a=s.Templates.loadRemote(r,h),typeof a>"u"||a===null?a="":c=!0}catch(y){s.log.debug("Twig.functions.source: ","Problem loading template  ",y)}return!c&&!n?t.replace("{name}",r):a}},s._function=function(r,n,o){if(!s.functions[r])throw new s.Error("Unable to find function "+r);return s.functions[r](n,o)},s._function.extend=function(r,n){s.functions[r]=n},s}}(Ge)),Ge.exports}var Ke,Ht;function vr(){return Ht||(Ht=1,Ke=function(){var s=/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,t=arguments,r=0,n=t[r++],o=function(u,h,y,x){y||(y=" ");var A=u.length>=h?"":new Array(1+h-u.length>>>0).join(y);return x?u+A:A+u},i=function(u,h,y,x,A){var R=x-u.length;return R>0&&(!y&&A==="0"?u=[u.slice(0,h.length),o("",R,"0",!0),u.slice(h.length)].join(""):u=o(u,x,A,y)),u},a=function(u,h,y,x,A,R){var N=u>>>0;return u=o(N.toString(h),A||0,"0",!1),i(u,"",y,x,R)},c=function(u,h,y,x,A){return x!=null&&(u=u.slice(0,x)),i(u,"",h,y,A)},f=function(u,h,y,x,A,R){var N=void 0,D=void 0,M=void 0,z=void 0,$=void 0;if(u==="%%")return"%";var C=" ",F=!1,q="",B=void 0,H=void 0;for(B=0,H=y.length;B<H;B++)switch(y.charAt(B)){case" ":case"0":C=y.charAt(B);break;case"+":q="+";break;case"-":F=!0;break;case"'":B+1<H&&(C=y.charAt(B+1),B++);break}if(x?x=+x:x=0,!isFinite(x))throw new Error("Width must be finite");if(A?A=+A:A=R==="d"?0:"fFeE".indexOf(R)>-1?6:void 0,h&&+h==0)throw new Error("Argument number must be greater than zero");if(h&&+h>=t.length)throw new Error("Too few arguments");switch($=h?t[+h]:t[r++],R){case"%":return"%";case"s":return c($+"",F,x,A,C);case"c":return c(String.fromCharCode(+$),F,x,A,C);case"b":return a($,2,F,x,A,C);case"o":return a($,8,F,x,A,C);case"x":return a($,16,F,x,A,C);case"X":return a($,16,F,x,A,C).toUpperCase();case"u":return a($,10,F,x,A,C);case"i":case"d":return N=+$||0,N=Math.round(N-N%1),D=N<0?"-":q,$=D+o(String(Math.abs(N)),A,"0",!1),F&&C==="0"&&(C=" "),i($,D,F,x,C);case"e":case"E":case"f":case"F":case"g":case"G":return N=+$,D=N<0?"-":q,M=["toExponential","toFixed","toPrecision"]["efg".indexOf(R.toLowerCase())],z=["toString","toUpperCase"]["eEfFgG".indexOf(R)%2],$=D+Math.abs(N)[M](A),i($,D,F,x,C)[z]();default:return""}};try{return n.replace(s,f)}catch{return!1}}),Ke}var Ze,Gt;function Kn(){return Gt||(Gt=1,Ze=function(s,t){var r=vr();return r.apply(this,[s].concat(t))}),Ze}var Je,Kt;function kr(){if(Kt)return Je;Kt=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};return Je=function(t){var r=typeof t>"u"?"undefined":e(t);switch(r){case"number":return isNaN(t)||!isFinite(t)?0:t<0?Math.ceil(t):Math.floor(t);case"string":return parseInt(t,10)||0;case"boolean":default:return+!!t}},Je}var Xe,Zt;function Zn(){if(Zt)return Xe;Zt=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};return Xe=function(t){var r=typeof t>"u"?"undefined":e(t);switch(r){case"number":return t;case"string":return parseFloat(t)||0;case"boolean":default:return kr()(t)}},Xe}var Qe,Jt;function Jn(){if(Jt)return Qe;Jt=1;function e(s,t){var r=Math.floor(Math.abs(s)+.5);return(t==="PHP_ROUND_HALF_DOWN"&&s===r-.5||t==="PHP_ROUND_HALF_EVEN"&&s===.5+2*Math.floor(r/2)||t==="PHP_ROUND_HALF_ODD"&&s===.5+2*Math.floor(r/2)-1)&&(r-=1),s<0?-r:r}return Qe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"PHP_ROUND_HALF_UP",o=Zn(),i=kr(),a=void 0;if(t=o(t),r=i(r),a=Math.pow(10,r),isNaN(t)||!isFinite(t)||Math.trunc(t)===t&&r>=0)return t;var c=14-Math.floor(Math.log10(Math.abs(t)));return c>r&&c-15<r?(t=e(t*Math.pow(10,c),n),t/=Math.pow(10,Math.abs(r-c))):t*=a,t=e(t,n),t/a},Qe}var we,Xt;function Xn(){if(Xt)return we;Xt=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};return we=function(){var t=void 0,r=void 0,n=0,o=0,i=arguments,a=i.length,c=function(u){if(Object.prototype.toString.call(u)==="[object Array]")return u;var h=[];for(var y in u)u.hasOwnProperty(y)&&h.push(u[y]);return h},f=function p(u,h){var y=0,x=0,A=0,R=0,N=0;if(u===h)return 0;if((typeof u>"u"?"undefined":e(u))==="object"){if((typeof h>"u"?"undefined":e(h))==="object"){if(u=c(u),h=c(h),N=u.length,R=h.length,R>N)return 1;if(R<N)return-1;for(y=0,x=N;y<x;++y){if(A=p(u[y],h[y]),A===1)return 1;if(A===-1)return-1}return 0}return-1}else{if((typeof h>"u"?"undefined":e(h))==="object")return 1;if(isNaN(h)&&!isNaN(u))return u===0?0:u<0?1:-1;if(isNaN(u)&&!isNaN(h))return h===0?0:h>0?1:-1}return h===u?0:h>u?1:-1};if(a===0)throw new Error("At least one value should be passed to max()");if(a===1){if(e(i[0])==="object")t=c(i[0]);else throw new Error("Wrong parameter count for max()");if(t.length===0)throw new Error("Array must contain at least one element for max()")}else t=i;for(r=t[0],n=1,o=t.length;n<o;++n)f(r,t[n])===1&&(r=t[n]);return r},we}var Te,Qt;function Qn(){if(Qt)return Te;Qt=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};return Te=function(){var t=void 0,r=void 0,n=0,o=0,i=arguments,a=i.length,c=function(u){if(Object.prototype.toString.call(u)==="[object Array]")return u;var h=[];for(var y in u)u.hasOwnProperty(y)&&h.push(u[y]);return h},f=function p(u,h){var y=0,x=0,A=0,R=0,N=0;if(u===h)return 0;if((typeof u>"u"?"undefined":e(u))==="object"){if((typeof h>"u"?"undefined":e(h))==="object"){if(u=c(u),h=c(h),N=u.length,R=h.length,R>N)return 1;if(R<N)return-1;for(y=0,x=N;y<x;++y){if(A=p(u[y],h[y]),A===1)return 1;if(A===-1)return-1}return 0}return-1}else{if((typeof h>"u"?"undefined":e(h))==="object")return 1;if(isNaN(h)&&!isNaN(u))return u===0?0:u<0?1:-1;if(isNaN(u)&&!isNaN(h))return h===0?0:h>0?1:-1}return h===u?0:h>u?1:-1};if(a===0)throw new Error("At least one value should be passed to min()");if(a===1){if(e(i[0])==="object")t=c(i[0]);else throw new Error("Wrong parameter count for min()");if(t.length===0)throw new Error("Array must contain at least one element for min()")}else t=i;for(r=t[0],n=1,o=t.length;n<o;++n)f(r,t[n])===-1&&(r=t[n]);return r},Te}var et,wt;function wn(){if(wt)return et;wt=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};return et=function(t){var r=typeof t>"u"?"undefined":e(t);switch(r){case"boolean":return t?"1":"";case"string":return t;case"number":return isNaN(t)?"NAN":isFinite(t)?t+"":(t<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(t)?"Array":t!==null?"Object":"";case"function":default:throw new Error("Unsupported value type")}},et}var tt,Tt;function Tn(){return Tt||(Tt=1,tt=function(s,t){var r=wn();t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z0-9]*)\b[^>]*>?/gi,o=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,i=r(s);for(i=i.substring(i.length-1)==="<"?i.substring(0,i.length-1):i;;){var a=i;if(i=a.replace(o,"").replace(n,function(c,f){return t.indexOf("<"+f.toLowerCase()+">")>-1?c:""}),a===i)return i}}),tt}var rt,er;function es(){if(er)return rt;er=1;var e="[ \\t]+",s="[ \\t]*",t="(?:([ap])\\.?m\\.?([\\t ]|$))",r="(2[0-4]|[01]?[0-9])",n="([01][0-9]|2[0-4])",o="(0?[1-9]|1[0-2])",i="([0-5]?[0-9])",a="([0-5][0-9])",c="(60|[0-5]?[0-9])",f="(60|[0-5][0-9])",p="(?:\\.([0-9]+))",u="sunday|monday|tuesday|wednesday|thursday|friday|saturday",h="sun|mon|tue|wed|thu|fri|sat",y=u+"|"+h+"|weekdays?",x="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",A="next|last|previous|this",R="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+y,N="([0-9]{1,4})",D="([0-9]{2})",M="([0-9]{4})",z="([+-]?[0-9]{4})",$="(1[0-2]|0?[0-9])",C="(0[0-9]|1[0-2])",F="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",q="(0[0-9]|[1-2][0-9]|3[01])",B="january|february|march|april|may|june|july|august|september|october|november|december",H="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",ye="i[vx]|vi{0,3}|xi{0,2}|i{1,3}",G="("+B+"|"+H+"|"+ye+")",se="((?:GMT)?([+-])"+r+":?"+i+"?)",me="\\(?([a-zA-Z]{1,6})\\)?",xe="(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])",Re="(0[1-9]|[1-4][0-9]|5[0-3])",ee=G+"[ .\\t-]*"+F+"[,.stndrh\\t ]*";function K(v,_){switch(_=_&&_.toLowerCase(),_){case"a":v+=v===12?-12:0;break;case"p":v+=v!==12?12:0;break}return v}function Z(v){var _=+v;return v.length<4&&_<100&&(_+=_<70?2e3:1900),_}function P(v){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[v.toLowerCase()]}function ue(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m={mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0};return m[v.toLowerCase()]||_}function je(v){var _={last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12},m={this:1},b=v.toLowerCase();return{amount:_[b],behavior:m[b]||0}}function Y(v,_){var m=/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i;if(v=v&&v.match(m),!v)return _;var b=v[1]==="-"?-1:1,k=+v[2],E=+v[4];return!v[4]&&!v[3]&&(E=Math.floor(k%100),k=Math.floor(k/100)),b*(k*60+E)*60}var be={acdt:37800,acst:34200,addt:-7200,adt:-10800,aedt:39600,aest:36e3,ahdt:-32400,ahst:-36e3,akdt:-28800,akst:-32400,amt:-13840,apt:-10800,ast:-14400,awdt:32400,awst:28800,awt:-10800,bdst:7200,bdt:-36e3,bmt:-14309,bst:3600,cast:34200,cat:7200,cddt:-14400,cdt:-18e3,cemt:10800,cest:7200,cet:3600,cmt:-15408,cpt:-18e3,cst:-21600,cwt:-18e3,chst:36e3,dmt:-1521,eat:10800,eddt:-10800,edt:-14400,eest:10800,eet:7200,emt:-26248,ept:-14400,est:-18e3,ewt:-14400,ffmt:-14660,fmt:-4056,gdt:39600,gmt:0,gst:36e3,hdt:-34200,hkst:32400,hkt:28800,hmt:-19776,hpt:-34200,hst:-36e3,hwt:-34200,iddt:14400,idt:10800,imt:25025,ist:7200,jdt:36e3,jmt:8440,jst:32400,kdt:36e3,kmt:5736,kst:30600,lst:9394,mddt:-18e3,mdst:16279,mdt:-21600,mest:7200,met:3600,mmt:9017,mpt:-21600,msd:14400,msk:10800,mst:-25200,mwt:-21600,nddt:-5400,ndt:-9052,npt:-9e3,nst:-12600,nwt:-9e3,nzdt:46800,nzmt:41400,nzst:43200,pddt:-21600,pdt:-25200,pkst:21600,pkt:18e3,plmt:25590,pmt:-13236,ppmt:-17340,ppt:-25200,pst:-28800,pwt:-25200,qmt:-18840,rmt:5794,sast:7200,sdmt:-16800,sjmt:-20173,smt:-13884,sst:-39600,tbmt:10751,tmt:12344,uct:0,utc:0,wast:7200,wat:3600,wemt:7200,west:3600,wet:0,wib:25200,wita:28800,wit:32400,wmt:5040,yddt:-25200,ydt:-28800,ypt:-28800,yst:-32400,ywt:-28800,a:3600,b:7200,c:10800,d:14400,e:18e3,f:21600,g:25200,h:28800,i:32400,k:36e3,l:39600,m:43200,n:-3600,o:-7200,p:-10800,q:-14400,r:-18e3,s:-21600,t:-25200,u:-28800,v:-32400,w:-36e3,x:-39600,y:-43200,z:0},S={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return this.rd-=1,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(_,m){return this.rs+=+m,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(_,m){m.toLowerCase()==="first"?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+r+s+t+"?","i"),name:"backof | frontof",callback:function(_,m,b,k){var E=m.toLowerCase()==="back",j=+b,L=15;return E||(j-=1,L=45),j=K(j,k),this.resetTime()&&this.time(j,L,0,0)}},mssqltime:{regex:RegExp("^"+o+":"+a+":"+f+"[:.]([0-9]+)"+t,"i"),name:"mssqltime",callback:function(_,m,b,k,E,j){return this.time(K(+m,j),+b,+k,+E.substr(0,3))}},oracledate:{regex:/^(\d{2})-([A-Z]{3})-(\d{2})$/i,name:"d-M-y",callback:function(_,m,b,k){var E={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}[b.toUpperCase()];return this.ymd(2e3+parseInt(k,10),E,parseInt(m,10))}},timeLong12:{regex:RegExp("^"+o+"[:.]"+i+"[:.]"+f+s+t,"i"),name:"timelong12",callback:function(_,m,b,k,E){return this.time(K(+m,E),+b,+k,0)}},timeShort12:{regex:RegExp("^"+o+"[:.]"+a+s+t,"i"),name:"timeshort12",callback:function(_,m,b,k){return this.time(K(+m,k),+b,0,0)}},timeTiny12:{regex:RegExp("^"+o+s+t,"i"),name:"timetiny12",callback:function(_,m,b){return this.time(K(+m,b),0,0,0)}},soap:{regex:RegExp("^"+M+"-"+C+"-"+q+"T"+n+":"+a+":"+f+p+se+"?","i"),name:"soap",callback:function(_,m,b,k,E,j,L,Q,w){return this.ymd(+m,b-1,+k)&&this.time(+E,+j,+L,+Q.substr(0,3))&&this.zone(Y(w))}},wddx:{regex:RegExp("^"+M+"-"+$+"-"+F+"T"+r+":"+i+":"+c),name:"wddx",callback:function(_,m,b,k,E,j,L){return this.ymd(+m,b-1,+k)&&this.time(+E,+j,+L,0)}},exif:{regex:RegExp("^"+M+":"+C+":"+q+" "+n+":"+a+":"+f,"i"),name:"exif",callback:function(_,m,b,k,E,j,L){return this.ymd(+m,b-1,+k)&&this.time(+E,+j,+L,0)}},xmlRpc:{regex:RegExp("^"+M+C+q+"T"+r+":"+a+":"+f),name:"xmlrpc",callback:function(_,m,b,k,E,j,L){return this.ymd(+m,b-1,+k)&&this.time(+E,+j,+L,0)}},xmlRpcNoColon:{regex:RegExp("^"+M+C+q+"[Tt]"+r+a+f),name:"xmlrpcnocolon",callback:function(_,m,b,k,E,j,L){return this.ymd(+m,b-1,+k)&&this.time(+E,+j,+L,0)}},clf:{regex:RegExp("^"+F+"/("+H+")/"+M+":"+n+":"+a+":"+f+e+se,"i"),name:"clf",callback:function(_,m,b,k,E,j,L,Q){return this.ymd(+k,P(b),+m)&&this.time(+E,+j,+L,0)&&this.zone(Y(Q))}},iso8601long:{regex:RegExp("^t?"+r+"[:.]"+i+"[:.]"+c+p,"i"),name:"iso8601long",callback:function(_,m,b,k,E){return this.time(+m,+b,+k,+E.substr(0,3))}},dateTextual:{regex:RegExp("^"+G+"[ .\\t-]*"+F+"[,.stndrh\\t ]+"+N,"i"),name:"datetextual",callback:function(_,m,b,k){return this.ymd(Z(k),P(m),+b)}},pointedDate4:{regex:RegExp("^"+F+"[.\\t-]"+$+"[.-]"+M),name:"pointeddate4",callback:function(_,m,b,k){return this.ymd(+k,b-1,+m)}},pointedDate2:{regex:RegExp("^"+F+"[.\\t]"+$+"\\."+D),name:"pointeddate2",callback:function(_,m,b,k){return this.ymd(Z(k),b-1,+m)}},timeLong24:{regex:RegExp("^t?"+r+"[:.]"+i+"[:.]"+c),name:"timelong24",callback:function(_,m,b,k){return this.time(+m,+b,+k,0)}},dateNoColon:{regex:RegExp("^"+M+C+q),name:"datenocolon",callback:function(_,m,b,k){return this.ymd(+m,b-1,+k)}},pgydotd:{regex:RegExp("^"+M+"\\.?"+xe),name:"pgydotd",callback:function(_,m,b){return this.ymd(+m,0,+b)}},timeShort24:{regex:RegExp("^t?"+r+"[:.]"+i,"i"),name:"timeshort24",callback:function(_,m,b){return this.time(+m,+b,0,0)}},iso8601noColon:{regex:RegExp("^t?"+n+a+f,"i"),name:"iso8601nocolon",callback:function(_,m,b,k){return this.time(+m,+b,+k,0)}},iso8601dateSlash:{regex:RegExp("^"+M+"/"+C+"/"+q+"/"),name:"iso8601dateslash",callback:function(_,m,b,k){return this.ymd(+m,b-1,+k)}},dateSlash:{regex:RegExp("^"+M+"/"+$+"/"+F),name:"dateslash",callback:function(_,m,b,k){return this.ymd(+m,b-1,+k)}},american:{regex:RegExp("^"+$+"/"+F+"/"+N),name:"american",callback:function(_,m,b,k){return this.ymd(Z(k),m-1,+b)}},americanShort:{regex:RegExp("^"+$+"/"+F),name:"americanshort",callback:function(_,m,b){return this.ymd(this.y,m-1,+b)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+N+"-"+$+"-"+F),name:"gnudateshort | iso8601date2",callback:function(_,m,b,k){return this.ymd(Z(m),b-1,+k)}},iso8601date4:{regex:RegExp("^"+z+"-"+C+"-"+q),name:"iso8601date4",callback:function(_,m,b,k){return this.ymd(+m,b-1,+k)}},gnuNoColon:{regex:RegExp("^t?"+n+a,"i"),name:"gnunocolon",callback:function(_,m,b){switch(this.times){case 0:return this.time(+m,+b,0,this.f);case 1:return this.y=m*100+ +b,this.times++,!0;default:return!1}}},gnuDateShorter:{regex:RegExp("^"+M+"-"+$),name:"gnudateshorter",callback:function(_,m,b){return this.ymd(+m,b-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+H+")-"+q,"i"),name:"pgtextreverse",callback:function(_,m,b,k){return this.ymd(Z(m),P(b),+k)}},dateFull:{regex:RegExp("^"+F+"[ \\t.-]*"+G+"[ \\t.-]*"+N,"i"),name:"datefull",callback:function(_,m,b,k){return this.ymd(Z(k),P(b),+m)}},dateNoDay:{regex:RegExp("^"+G+"[ .\\t-]*"+M,"i"),name:"datenoday",callback:function(_,m,b){return this.ymd(+b,P(m),1)}},dateNoDayRev:{regex:RegExp("^"+M+"[ .\\t-]*"+G,"i"),name:"datenodayrev",callback:function(_,m,b){return this.ymd(+m,P(b),1)}},pgTextShort:{regex:RegExp("^("+H+")-"+q+"-"+N,"i"),name:"pgtextshort",callback:function(_,m,b,k){return this.ymd(Z(k),P(m),+b)}},dateNoYear:{regex:RegExp("^"+ee,"i"),name:"datenoyear",callback:function(_,m,b){return this.ymd(this.y,P(m),+b)}},dateNoYearRev:{regex:RegExp("^"+F+"[ .\\t-]*"+G,"i"),name:"datenoyearrev",callback:function(_,m,b){return this.ymd(this.y,P(b),+m)}},isoWeekDay:{regex:RegExp("^"+M+"-?W"+Re+"(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(_,m,b,k){if(k=k?+k:1,!this.ymd(+m,0,1))return!1;var E=new Date(this.y,this.m,this.d).getDay();E=0-(E>4?E-7:E),this.rd+=E+(b-1)*7+k}},relativeText:{regex:RegExp("^("+x+"|"+A+")"+e+"("+R+")","i"),name:"relativetext",callback:function(_,m,b){var k=je(m),E=k.amount;switch(b.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=E;break;case"min":case"mins":case"minute":case"minutes":this.ri+=E;break;case"hour":case"hours":this.rh+=E;break;case"day":case"days":this.rd+=E;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=E*14;break;case"week":case"weeks":this.rd+=E*7;break;case"month":case"months":this.rm+=E;break;case"year":case"years":this.ry+=E;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=ue(b,7),this.weekdayBehavior=1,this.rd+=(E>0?E-1:E)*7;break}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)"+s+"("+R+"|week)","i"),name:"relative",callback:function(_,m,b,k){var E=m.replace(/[^-]/g,"").length,j=+b*Math.pow(-1,E);switch(k.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=j;break;case"min":case"mins":case"minute":case"minutes":this.ri+=j;break;case"hour":case"hours":this.rh+=j;break;case"day":case"days":this.rd+=j;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=j*14;break;case"week":case"weeks":this.rd+=j*7;break;case"month":case"months":this.rm+=j;break;case"year":case"years":this.ry+=j;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=ue(k,7),this.weekdayBehavior=1,this.rd+=(j>0?j-1:j)*7;break}}},dayText:{regex:RegExp("^("+y+")","i"),name:"daytext",callback:function(_,m){this.resetTime(),this.weekday=ue(m,0),this.weekdayBehavior!==2&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^("+A+")"+e+"week","i"),name:"relativetextweek",callback:function(_,m){switch(this.weekdayBehavior=2,m.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7;break}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+B+"|"+H+")","i"),name:"monthfull | monthabbr",callback:function(_,m){return this.ymd(this.y,P(m),this.d)}},tzCorrection:{regex:RegExp("^"+se,"i"),name:"tzcorrection",callback:function(_){return this.zone(Y(_))}},tzAbbr:{regex:RegExp("^"+me),name:"tzabbr",callback:function(_,m){var b=be[m.toLowerCase()];return isNaN(b)?!1:this.zone(b)}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},year4:{regex:RegExp("^"+M),name:"year4",callback:function(_,m){return this.y=+m,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},dateShortWithTimeLong:{regex:RegExp("^"+ee+"t?"+r+"[:.]"+i+"[:.]"+c,"i"),name:"dateshortwithtimelong",callback:function(_,m,b,k,E,j){return this.ymd(this.y,P(m),+b)&&this.time(+k,+E,+j,0)}},dateShortWithTimeLong12:{regex:RegExp("^"+ee+o+"[:.]"+i+"[:.]"+f+s+t,"i"),name:"dateshortwithtimelong12",callback:function(_,m,b,k,E,j,L){return this.ymd(this.y,P(m),+b)&&this.time(K(+k,L),+E,+j,0)}},dateShortWithTimeShort:{regex:RegExp("^"+ee+"t?"+r+"[:.]"+i,"i"),name:"dateshortwithtimeshort",callback:function(_,m,b,k,E){return this.ymd(this.y,P(m),+b)&&this.time(+k,+E,0,0)}},dateShortWithTimeShort12:{regex:RegExp("^"+ee+o+"[:.]"+a+s+t,"i"),name:"dateshortwithtimeshort12",callback:function(_,m,b,k,E,j){return this.ymd(this.y,P(m),+b)&&this.time(K(+k,j),+E,0,0)}}},Pe={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(_,m,b){return this.dates>0?!1:(this.dates++,this.y=_,this.m=m,this.d=b,!0)},time:function(_,m,b,k){return this.times>0?!1:(this.times++,this.h=_,this.i=m,this.s=b,this.f=k,!0)},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,this.times=0,!0},zone:function(_){return this.zones<=1?(this.zones++,this.z=_,!0):!1},toDate:function(_){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=_.getFullYear()),isNaN(this.m)&&(this.m=_.getMonth()),isNaN(this.d)&&(this.d=_.getDate()),isNaN(this.h)&&(this.h=_.getHours()),isNaN(this.i)&&(this.i=_.getMinutes()),isNaN(this.s)&&(this.s=_.getSeconds()),isNaN(this.f)&&(this.f=_.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1;break}if(!isNaN(this.weekday)){var m=new Date(_.getTime());m.setFullYear(this.y,this.m,this.d),m.setHours(this.h,this.i,this.s,this.f);var b=m.getDay();if(this.weekdayBehavior===2)b===0&&this.weekday!==0&&(this.weekday=-6),this.weekday===0&&b!==0&&(this.weekday=7),this.d-=b,this.d+=this.weekday;else{var k=this.weekday-b;(this.rd<0&&k<0||this.rd>=0&&k<=-this.weekdayBehavior)&&(k+=7),this.weekday>=0?this.d+=k:this.d-=7-(Math.abs(this.weekday)-b),this.weekday=NaN}}this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var E=new Date(_.getTime());switch(E.setFullYear(this.y,this.m,this.d),E.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:E.setDate(1);break;case-1:E.setMonth(E.getMonth()+1,0);break}return!isNaN(this.z)&&E.getTimezoneOffset()!==this.z&&(E.setUTCFullYear(E.getFullYear(),E.getMonth(),E.getDate()),E.setUTCHours(E.getHours(),E.getMinutes(),E.getSeconds()-this.z,E.getMilliseconds())),E}};return rt=function(_,m){m==null&&(m=Math.floor(Date.now()/1e3));for(var b=[S.yesterday,S.now,S.noon,S.midnightOrToday,S.tomorrow,S.timestamp,S.firstOrLastDay,S.backOrFrontOf,S.timeTiny12,S.timeShort12,S.timeLong12,S.mssqltime,S.oracledate,S.timeShort24,S.timeLong24,S.iso8601long,S.gnuNoColon,S.iso8601noColon,S.americanShort,S.american,S.iso8601date4,S.iso8601dateSlash,S.dateSlash,S.gnuDateShortOrIso8601date2,S.gnuDateShorter,S.dateFull,S.pointedDate4,S.pointedDate2,S.dateNoDay,S.dateNoDayRev,S.dateTextual,S.dateNoYear,S.dateNoYearRev,S.dateNoColon,S.xmlRpc,S.xmlRpcNoColon,S.soap,S.wddx,S.exif,S.pgydotd,S.isoWeekDay,S.pgTextShort,S.pgTextReverse,S.clf,S.year4,S.ago,S.dayText,S.relativeTextWeek,S.relativeText,S.monthFullOrMonthAbbr,S.tzCorrection,S.tzAbbr,S.dateShortWithTimeShort12,S.dateShortWithTimeLong12,S.dateShortWithTimeShort,S.dateShortWithTimeLong,S.relative,S.whitespace],k=Object.create(Pe);_.length;){for(var E=null,j=null,L=0,Q=b.length;L<Q;L++){var w=b[L],oe=_.match(w.regex);oe&&(!E||oe[0].length>E[0].length)&&(E=oe,j=w)}if(!j||j.callback&&j.callback.apply(k,E)===!1)return!1;_=_.substr(E[0].length),j=null,E=null}return Math.floor(k.toDate(new Date(m*1e3))/1e3)},rt}var nt,tr;function Er(){return tr||(tr=1,nt=function(s,t){var r=void 0,n=void 0,o=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],i=/\\?(.?)/gi,a=function(u,h){return n[u]?n[u]():h},c=function(u,h){for(u=String(u);u.length<h;)u="0"+u;return u};n={d:function(){return c(n.j(),2)},D:function(){return n.l().slice(0,3)},j:function(){return r.getDate()},l:function(){return o[n.w()]+"day"},N:function(){return n.w()||7},S:function(){var u=n.j(),h=u%10;return h<=3&&parseInt(u%100/10,10)===1&&(h=0),["st","nd","rd"][h-1]||"th"},w:function(){return r.getDay()},z:function(){var u=new Date(n.Y(),n.n()-1,n.j()),h=new Date(n.Y(),0,1);return Math.round((u-h)/864e5)},W:function(){var u=new Date(n.Y(),n.n()-1,n.j()-n.N()+3),h=new Date(u.getFullYear(),0,4);return c(1+Math.round((u-h)/864e5/7),2)},F:function(){return o[6+n.n()]},m:function(){return c(n.n(),2)},M:function(){return n.F().slice(0,3)},n:function(){return r.getMonth()+1},t:function(){return new Date(n.Y(),n.n(),0).getDate()},L:function(){var u=n.Y();return u%4===0&u%100!==0|u%400===0},o:function(){var u=n.n(),h=n.W(),y=n.Y();return y+(u===12&&h<9?1:u===1&&h>9?-1:0)},Y:function(){return r.getFullYear()},y:function(){return n.Y().toString().slice(-2)},a:function(){return r.getHours()>11?"pm":"am"},A:function(){return n.a().toUpperCase()},B:function(){var u=r.getUTCHours()*3600,h=r.getUTCMinutes()*60,y=r.getUTCSeconds();return c(Math.floor((u+h+y+3600)/86.4)%1e3,3)},g:function(){return n.G()%12||12},G:function(){return r.getHours()},h:function(){return c(n.g(),2)},H:function(){return c(n.G(),2)},i:function(){return c(r.getMinutes(),2)},s:function(){return c(r.getSeconds(),2)},u:function(){return c(r.getMilliseconds()*1e3,6)},e:function(){var u="Not supported (see source code of date() for timezone on how to add support)";throw new Error(u)},I:function(){var u=new Date(n.Y(),0),h=Date.UTC(n.Y(),0),y=new Date(n.Y(),6),x=Date.UTC(n.Y(),6);return u-h!==y-x?1:0},O:function(){var u=r.getTimezoneOffset(),h=Math.abs(u);return(u>0?"-":"+")+c(Math.floor(h/60)*100+h%60,4)},P:function(){var u=n.O();return u.substr(0,3)+":"+u.substr(3,2)},T:function(){return"UTC"},Z:function(){return-r.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(i,a)},r:function(){return"D, d M Y H:i:s O".replace(i,a)},U:function(){return r/1e3|0}};var f=function(u,h){return r=h===void 0?new Date:h instanceof Date?new Date(h):new Date(h*1e3),u.replace(i,a)};return f(s,t)}),nt}var st,rr;function ts(){return rr||(rr=1,st=function(s){return!(s===!1||s===0||s===0||s===""||s==="0"||Array.isArray(s)&&s.length===0||s==null)}),st}var ot,nr;function rs(){return nr||(nr=1,ot=function(e){return e.lib={},e.lib.sprintf=vr(),e.lib.vsprintf=Kn(),e.lib.round=Jn(),e.lib.max=Xn(),e.lib.min=Qn(),e.lib.stripTags=Tn(),e.lib.strtotime=es(),e.lib.date=Er(),e.lib.boolval=ts(),e.lib.is=function(s,t){if(typeof t>"u"||t===null)return!1;switch(s){case"Array":return Array.isArray(t);case"Date":return t instanceof Date;case"String":return typeof t=="string"||t instanceof String;case"Number":return typeof t=="number"||t instanceof Number;case"Function":return typeof t=="function";case"Object":return t instanceof Object;default:return!1}},e.lib.replaceAll=function(s,t,r){const n=typeof s=="string"?s:s.toString(),o=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return n.replace(new RegExp(o,"g"),r)},e.lib.chunkArray=function(s,t){const r=[];let n=0;const o=s.length;if(t<1||!Array.isArray(s))return[];for(;n<o;)r.push(s.slice(n,n+=t));return r},e}),ot}var it,sr;function ns(){return sr||(sr=1,it=function(e){e.Templates.registerLoader("ajax",function(s,t,r,n){let o;const{precompiled:i}=t,a=this.parsers[t.parser]||this.parser.twig;if(typeof XMLHttpRequest>"u")throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');const c=new XMLHttpRequest;return c.onreadystatechange=function(){let f=null;c.readyState===4&&(c.status===200||window.cordova&&c.status===0?(e.log.debug("Got template ",c.responseText),i===!0?f=JSON.parse(c.responseText):f=c.responseText,t.url=s,t.data=f,o=a.call(this,t),typeof r=="function"&&r(o)):typeof n=="function"&&n(c))},c.open("GET",s,!!t.async),c.overrideMimeType("text/plain"),c.send(),t.async?!0:o})}),it}const ss={},os=Object.freeze(Object.defineProperty({__proto__:null,default:ss},Symbol.toStringTag,{value:"Module"})),gt=zn(os);var at,or;function is(){return or||(or=1,at=function(e){let s,t;try{s=gt,t=gt}catch(r){console.warn("Missing fs and path modules. "+r)}e.Templates.registerLoader("fs",function(r,n,o,i){let a,c=null;const{precompiled:f}=n,p=this.parsers[n.parser]||this.parser.twig;if(!s||!t)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');const u=function(h,y){if(h){typeof i=="function"&&i(h);return}f===!0&&(y=JSON.parse(y)),n.data=y,n.path=n.path||r,a=p.call(this,n),typeof o=="function"&&o(a)};if(n.path=n.path||r,n.async)return s.stat(n.path,(h,y)=>{if(h||!y.isFile()){typeof i=="function"&&i(new e.Error("Unable to find template file "+n.path));return}s.readFile(n.path,"utf8",u)}),!0;try{if(!s.statSync(n.path).isFile())throw new e.Error("Unable to find template file "+n.path)}catch(h){throw new e.Error("Unable to find template file "+n.path+". "+h)}return c=s.readFileSync(n.path,"utf8"),u(void 0,c),a})}),at}var ct,ir;function as(){return ir||(ir=1,ct=function(e){for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",apply:"Twig.logic.type.apply",endapply:"Twig.logic.type.endapply",do:"Twig.logic.type.do",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith",deprecated:"Twig.logic.type.deprecated"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile(s){const t=s.match[1];return s.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete s.match,s},parse(s,t,r){const n=this;return e.expression.parseAsync.call(n,s.stack,t).then(o=>(r=!0,e.lib.boolval(o)?(r=!1,n.parseAsync(s.output,t)):"")).then(o=>({chain:r,output:o}))}},{type:e.logic.type.elseif,regex:/^elseif\s*([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile(s){const t=s.match[1];return s.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete s.match,s},parse(s,t,r){const n=this;return e.expression.parseAsync.call(n,s.stack,t).then(o=>r&&e.lib.boolval(o)?(r=!1,n.parseAsync(s.output,t)):"").then(o=>({chain:r,output:o}))}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse(s,t,r){let n=e.Promise.resolve("");return r&&(n=this.parseAsync(s.output,t)),n.then(i=>({chain:r,output:i}))}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile(s){const t=s.match[1],r=s.match[2],n=s.match[3];let o=null;if(s.keyVar=null,s.valueVar=null,t.includes(","))if(o=t.split(","),o.length===2)s.keyVar=o[0].trim(),s.valueVar=o[1].trim();else throw new e.Error("Invalid expression in for loop: "+t);else s.valueVar=t.trim();return s.expression=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,n&&(s.conditional=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack),delete s.match,s},parse(s,t,r){const n=[];let o,i=0,a;const c=this,{conditional:f}=s,p=function(h,y){const x=f!==void 0;return{index:h+1,index0:h,revindex:x?void 0:y-h,revindex0:x?void 0:y-h-1,first:h===0,last:x?void 0:h===y-1,length:x?void 0:y,parent:t}},u=function(h,y){const x={...t};return x[s.valueVar]=y,s.keyVar&&(x[s.keyVar]=h),x.loop=p(i,o),(f===void 0?e.Promise.resolve(!0):e.expression.parseAsync.call(c,f,x)).then(R=>{if(R)return c.parseAsync(s.output,x).then(N=>{n.push(N),i+=1})}).then(()=>{delete x.loop,delete x[s.valueVar],delete x[s.keyVar],e.merge(t,x,!0)})};return e.expression.parseAsync.call(c,s.expression,t).then(h=>{if(Array.isArray(h))return o=h.length,e.async.forEach(h,y=>u(i,y));if(e.lib.is("Object",h))return h._keys===void 0?a=Object.keys(h):a=h._keys,o=a.length,e.async.forEach(a,y=>{if(y!=="_keys")return u(y,h[y])})}).then(()=>(r=n.length===0,{chain:r,context:t,output:e.output.call(c.template,n)}))}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile(s){const t=s.match[1].trim(),r=s.match[2],n=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack;return s.key=t,s.expression=n,delete s.match,s},parse(s,t,r){const{key:n}=s,o=this;return e.expression.parseAsync.call(o,s.expression,t).then(i=>(i===t&&(i={...i}),t[n]=i,{chain:r,context:t}))}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile(s){const t=s.match[1].trim();return s.key=t,delete s.match,s},parse(s,t,r){const n=this,{key:o}=s;return n.parseAsync(s.output,t).then(i=>(n.context[o]=i,t[o]=i,{chain:r,context:t}))}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile(s){const t="|"+s.match[1].trim();return s.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete s.match,s},parse(s,t,r){const n=this;return n.parseAsync(s.output,t).then(o=>{const i=[{type:e.expression.type.string,value:o}].concat(s.stack);return e.expression.parseAsync.call(n,i,t)}).then(o=>({chain:r,output:o}))}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.apply,regex:/^apply\s+(.+)$/,next:[e.logic.type.endapply],open:!0,compile(s){const t="|"+s.match[1].trim();return s.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete s.match,s},parse(s,t,r){const n=this;return n.parseAsync(s.output,t).then(o=>{const i=[{type:e.expression.type.string,value:o}].concat(s.stack);return e.expression.parseAsync.call(n,i,t)}).then(o=>({chain:r,output:o}))}},{type:e.logic.type.endapply,regex:/^endapply$/,next:[],open:!1},{type:e.logic.type.do,regex:/^do\s+([\S\s]+)$/,next:[],open:!0,compile(s){const t=s.match[1],r=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack;return s.expression=r,delete s.match,s},parse(s,t,r){const n=this;return e.expression.parseAsync.call(n,s.expression,t).then(()=>({chain:r,context:t}))}},{type:e.logic.type.block,regex:/^block\s+(\w+)$/,next:[e.logic.type.endblock],open:!0,compile(s){return s.blockName=s.match[1].trim(),delete s.match,s},parse(s,t,r){const n=this;let o=e.Promise.resolve();return n.template.blocks.defined[s.blockName]=new e.Block(n.template,s),(n.template.parentTemplate===null||n.template.parentTemplate instanceof e.Template)&&(o=n.getBlock(s.blockName).render(n,t)),o.then(i=>({chain:r,output:i}))}},{type:e.logic.type.shortblock,regex:/^block\s+(\w+)\s+(.+)$/,next:[],open:!0,compile(s){const t=this;return s.expression=s.match[2].trim(),s.output=e.expression.compile({type:e.expression.type.expression,value:s.expression}).stack,e.logic.handler[e.logic.type.block].compile.apply(t,[s])},parse(...s){const t=this;return e.logic.handler[e.logic.type.block].parse.apply(t,s)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+(\w+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile(s){const t=s.match[1].trim();return delete s.match,s.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,s},parse(s,t,r){const n=this;return e.expression.parseAsync.call(n,s.stack,t).then(o=>{if(Array.isArray(o)){const i=o.reverse().reduce((a,c)=>{try{return{render:n.template.importFile(c),fileName:c}}catch{return a}},{render:null,fileName:null});i.fileName!==null&&(n.template.parentTemplate=i.fileName)}else n.template.parentTemplate=o;return{chain:r,output:""}})}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile(s){const t=s.match[1].trim();return delete s.match,s.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,s},parse(s,t,r){const n=this;return e.expression.parseAsync.call(n,s.stack,t).then(o=>{const i=n.template.importFile(o),a=new e.ParseState(i);return a.parseAsync(i.tokens).then(()=>{n.template.blocks.imported={...n.template.blocks.imported,...a.getBlocks()}})}).then(()=>({chain:r,output:""}))}},{type:e.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile(s){const{match:t}=s,r=t[1].trim(),n=t[2]!==void 0,o=t[3],i=t[4]!==void 0&&t[4].length;return delete s.match,s.only=i,s.ignoreMissing=n,s.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,o!==void 0&&(s.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:o.trim()}).stack),s},parse(s,t,r){let n=s.only?{}:{...t};const{ignoreMissing:o}=s,i=this;let a=null;const c={chain:r,output:""};return typeof s.withStack>"u"?a=e.Promise.resolve():a=e.expression.parseAsync.call(i,s.withStack,t).then(f=>{n={...n,...f}}),a.then(()=>e.expression.parseAsync.call(i,s.stack,t)).then(f=>{let p;Array.isArray(f)?p=f:p=[f];const u=p.reduce((h,y)=>{if(h.render===null){if(y instanceof e.Template)return{render:y.renderAsync(n,{isInclude:!0}),lastError:null};try{return{render:i.template.importFile(y).renderAsync(n,{isInclude:!0}),lastError:null}}catch(x){return{render:null,lastError:x}}}return h},{render:null,lastError:null});if(u.render!==null)return u.render;if(u.render===null&&o)return"";throw u.lastError}).then(f=>(f!==""&&(c.output=f),c))}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse(s,t,r){return this.parseAsync(s.output,t).then(o=>{const i=/>\s+</g;let a=o.replace(i,"><").trim();return a=new e.Markup(a),{chain:r,output:a}})}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+(\w+)\s*\(\s*((?:\w+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile(s){const t=s.match[1],r=s.match[2].split(/\s*,\s*/),n=r.map(i=>i.split(/\s*=\s*/)[0]),o=n.length;if(o>1){const i={};for(let a=0;a<o;a++){const c=n[a];if(i[c])throw new e.Error("Duplicate arguments for parameter: "+c);i[c]=1}}return s.macroName=t,s.parameters=n,s.defaults=r.reduce(function(i,a){const c=a.split(/\s*=\s*/),f=c[0],p=c[1];return p?i[f]=e.expression.compile.call(this,{type:e.expression.type.expression,value:p}).stack:i[f]=void 0,i},{}),delete s.match,s},parse(s,t,r){const n=this;return n.macros[s.macroName]=function(...o){const i={...n.context,_self:n.macros};return e.async.forEach(s.parameters,function(a,c){return typeof o[c]<"u"?(i[a]=o[c],!0):typeof s.defaults[a]<"u"?e.expression.parseAsync.call(this,s.defaults[a],t).then(f=>(i[a]=f,e.Promise.resolve())):(i[a]=void 0,!0)}).then(()=>n.parseAsync(s.output,i))},{chain:r,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+(\w+)$/,next:[],open:!0,compile(s){const t=s.match[1].trim(),r=s.match[2].trim();return delete s.match,s.expression=t,s.contextName=r,s.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,s},parse(s,t,r){const n=this,o={chain:r,output:""};return s.expression==="_self"?(t[s.contextName]=n.macros,o):e.expression.parseAsync.call(n,s.stack,t).then(i=>n.template.importFile(i||s.expression)).then(i=>{const a=new e.ParseState(i);return a.parseAsync(i.tokens).then(()=>(t[s.contextName]=a.macros,o))})}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile(s){const t=s.match[1].trim(),r=s.match[2].trim().split(/\s*,\s*/),n={};for(const o of r){const i=o.match(/^(\w+)\s+as\s+(\w+)$/);i?n[i[1].trim()]=i[2].trim():o.match(/^(\w+)$/)&&(n[o]=o)}return delete s.match,s.expression=t,s.macroNames=n,s.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,s},parse(s,t,r){const n=this;let o;return s.expression==="_self"?o=e.Promise.resolve(n.macros):o=e.expression.parseAsync.call(n,s.stack,t).then(i=>n.template.importFile(i||s.expression)).then(i=>{const a=new e.ParseState(i);return a.parseAsync(i.tokens).then(()=>a.macros)}),o.then(i=>{for(const a in s.macroNames)i[a]!==void 0&&(t[s.macroNames[a]]=i[a]);return{chain:r,output:""}})}},{type:e.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[e.logic.type.endembed],open:!0,compile(s){const{match:t}=s,r=t[1].trim(),n=t[2]!==void 0,o=t[3],i=t[4]!==void 0&&t[4].length;return delete s.match,s.only=i,s.ignoreMissing=n,s.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,o!==void 0&&(s.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:o.trim()}).stack),s},parse(s,t,r){let n={},o=e.Promise.resolve(),i=this;return s.only||(n={...t}),s.withStack!==void 0&&(o=e.expression.parseAsync.call(i,s.withStack,t).then(a=>{n={...n,...a}})),o.then(()=>e.expression.parseAsync.call(i,s.stack,n)).then(a=>{const c=new e.Template({data:s.output,base:i.template.base,path:i.template.path,url:i.template.url,name:i.template.name,method:i.template.method,options:i.template.options});try{c.importFile(a)}catch(f){if(s.ignoreMissing)return"";throw i=null,f}return c.parentTemplate=a,c.renderAsync(n,{isInclude:!0})}).then(a=>({chain:r,output:a}))}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:e.logic.type.with,regex:/^(?:with(?:\s+([\S\s]+?))?)(?:\s|$)(only)?$/,next:[e.logic.type.endwith],open:!0,compile(s){const{match:t}=s,r=t[1],n=t[2]!==void 0&&t[2].length;return delete s.match,s.only=n,r!==void 0&&(s.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r.trim()}).stack),s},parse(s,t,r){let n={},o;const i=this;let a=e.Promise.resolve();s.only||(n={...t}),s.withStack!==void 0&&(a=e.expression.parseAsync.call(i,s.withStack,t).then(f=>{for(o in f)Object.hasOwnProperty.call(f,o)&&(n[o]=f[o])}));const c=new e.ParseState(i.template,void 0,n);return a.then(()=>c.parseAsync(s.output)).then(f=>({chain:r,output:f}))}},{type:e.logic.type.endwith,regex:/^endwith$/,next:[],open:!1},{type:e.logic.type.deprecated,regex:/^deprecated\s+(.+)$/,next:[],open:!0,compile(s){return console.warn("Deprecation notice: "+s.match[1]),s},parse(){return{}}}],e.logic.handler={},e.logic.extendType=function(s,t){t=t||"Twig.logic.type"+s,e.logic.type[s]=t},e.logic.extend=function(s){if(s.type)e.logic.extendType(s.type);else throw new e.Error("Unable to extend logic definition. No type provided for "+s);e.logic.handler[s.type]=s};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(s){const t=s.value.trim();let r=e.logic.tokenize.call(this,t);const n=e.logic.handler[r.type];return n.compile&&(r=n.compile.call(this,r),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",r)),r},e.logic.tokenize=function(s){let t=null,r=null,n=null,o=null,i=null,a=null,c=null;s=s.trim();for(t in e.logic.handler)if(Object.hasOwnProperty.call(e.logic.handler,t)){for(r=e.logic.handler[t].type,n=e.logic.handler[t].regex,o=n,Array.isArray(n)||(o=[n]),i=o.length,a=0;a<i;a++)if(c=o[a].exec(s),c!==null)return e.log.trace("Twig.logic.tokenize: ","Matched a ",r," regular expression of ",c),{type:r,match:c}}throw new e.Error("Unable to parse '"+s.trim()+"'")},e.logic.parse=function(s,t,r,n){return e.async.potentiallyAsync(this,n,function(){e.log.debug("Twig.logic.parse: ","Parsing logic token ",s);const o=e.logic.handler[s.type];let i;const a=this;return o.parse?(a.nestingStack.unshift(s),i=o.parse.call(a,s,t||{},r),e.isPromise(i)?i=i.then(c=>(a.nestingStack.shift(),c)):a.nestingStack.shift(),i):""})},e}),ct}var lt,ar;function cs(){return ar||(ar=1,lt=function(e){e.Templates.registerParser("source",s=>s.data||"")}),lt}var pt,cr;function ls(){return cr||(cr=1,pt=function(e){e.Templates.registerParser("twig",s=>new e.Template(s))}),pt}var ut,lr;function ps(){return lr||(lr=1,ut=function(e){return e.path={},e.path.expandNamespace=function(s,t){const r=Object.keys(s),n=new RegExp(`^(?:@(${r.join("|")})/|(${r.join("|")})::)`);return t.replace(n,(o,i,a)=>`${s[i===void 0?a:i]}/`)},e.path.parsePath=function(s,t){const{namespaces:r}=s.options,n=t||"";let i=r&&typeof r=="object"?e.path.expandNamespace(r,n):n;return i===n&&(i=e.path.relativePath(s,n)),i},e.path.relativePath=function(s,t){let r,n,o="/";const i=[];let a=t||"",c;if(s.url)typeof s.base>"u"?r=s.url:r=s.base.replace(/([^/])$/,"$1/");else if(s.path){const f=gt,p=f.sep||o,u=new RegExp("^\\.{1,2}"+p.replace("\\","\\\\"));a=a.replace(/\//g,p),s.base!==void 0&&a.match(u)===null?(a=a.replace(s.base,""),r=s.base+p):r=f.normalize(s.path),r=r.replace(p+p,p),o=p}else if((s.name||s.id)&&s.method&&s.method!=="fs"&&s.method!=="ajax")r=s.base||s.name||s.id;else throw new e.Error("Cannot extend an inline template.");for(n=r.split(o),n.pop(),n=n.concat(a.split(o));n.length>0;)c=n.shift(),c==="."||(c===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():i.push(c));return i.join(o)},e}),ut}var ft,pr;function us(){return pr||(pr=1,ft=function(e){return e.tests={empty(s){if(s===!0)return!1;if(s==null)return!0;if(typeof s=="number"||s.length>0)return!1;for(const t in s)if(Object.hasOwnProperty.call(s,t))return!1;return!0},odd(s){return s%2===1},even(s){return s%2===0},"divisible by"(s,t){return s%t[0]===0},divisibleby(s,t){return console.warn("`divisibleby` is deprecated use `divisible by`"),e.tests["divisible by"](s,t)},defined(s){return s!==void 0},none(s){return s===null},null(s){return this.none(s)},"same as"(s,t){return s===t[0]},sameas(s,t){return console.warn("`sameas` is deprecated use `same as`"),e.tests["same as"](s,t)},iterable(s){return s&&(e.lib.is("Array",s)||e.lib.is("Object",s))}},e.test=function(s,t,r){if(!e.tests[s])throw e.Error("Test "+s+" is not defined.");return e.tests[s](t,r)},e.test.extend=function(s,t){e.tests[s]=t},e}),ft}var ht,ur;function fs(){return ur||(ur=1,ht=function(e){e.ParseState.prototype.parseAsync=function(a,c){return this.parse(a,c,!0)},e.expression.parseAsync=function(a,c,f){const p=this;return e.expression.parse.call(p,a,c,f,!0)},e.logic.parseAsync=function(a,c,f){const p=this;return e.logic.parse.call(p,a,c,f,!0)},e.Template.prototype.renderAsync=function(a,c){return this.render(a,c,!0)},e.async={},e.isPromise=function(a){return a&&a.then&&typeof a.then=="function"};function n(a,c,f){let p=f.call(a),u=null,h=!0;if(!e.isPromise(p))return p;if(p.then(y=>{p=y,h=!1}).catch(y=>{u=y}),u!==null)throw u;if(h)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return p}e.async.potentiallyAsync=function(a,c,f){return c?e.Promise.resolve(f.call(a)):n(a,c,f)};function o(a,c,f){try{a(c,f)}catch(p){f(p)}}function i(a,c,f){const p=[c,f,-2];return a?a[2]===-2?a=[a,p]:a.push(p):a=p,a}return e.Thenable=function(a,c,f){this.then=a,this._value=f?c:null,this._state=f||0},e.Thenable.prototype.catch=function(a){return this._state===1?this:this.then(null,a)},e.Thenable.resolvedThen=function(a){try{return e.Promise.resolve(a(this._value))}catch(c){return e.Promise.reject(c)}},e.Thenable.rejectedThen=function(a,c){if(!c||typeof c!="function")return this;const f=this._value;let p;try{p=c(f)}catch(u){p=e.Promise.reject(u)}return e.Promise.resolve(p)},e.Promise=function(a){let c=0,f=null,p=function(y,x){c=y,f=x};function u(y){p(1,y)}function h(y){p(2,y)}return o(a,u,h),c===1?e.Promise.resolve(f):c===2?e.Promise.reject(f):(p=new e.FullPromise,p.promise)},e.FullPromise=function(){let a=null;function c(y){y(h._value)}function f(y,x){x(h._value)}let p=function(y,x){a=i(a,y,x)};function u(y,x){if(!h._state&&(h._value=x,h._state=y,p=y===1?c:f,!!a)){if(a[2]===-2){p(a[0],a[1]),a=null;return}a.forEach(A=>{p(A[0],A[1])}),a=null}}const h=new e.Thenable((y,x)=>{const A=typeof y=="function";if(h._state===1&&!A)return e.Promise.resolve(h._value);if(h._state===1)try{return e.Promise.resolve(y(h._value))}catch(N){return e.Promise.reject(N)}const R=typeof x=="function";return new e.Promise((N,D)=>{p(A?M=>{try{N(y(M))}catch(z){D(z)}}:N,R?M=>{try{N(x(M))}catch(z){D(z)}}:D)})});return u.promise=h,u},e.Promise.defaultResolved=new e.Thenable(e.Thenable.resolvedThen,void 0,1),e.Promise.emptyStringResolved=new e.Thenable(e.Thenable.resolvedThen,"",1),e.Promise.resolve=function(a){return arguments.length===0||typeof a>"u"?e.Promise.defaultResolved:e.isPromise(a)?a:a===""?e.Promise.emptyStringResolved:new e.Thenable(e.Thenable.resolvedThen,a,1)},e.Promise.reject=function(a){return new e.Thenable(e.Thenable.rejectedThen,a,2)},e.Promise.all=function(a){const c=new Array(a.length);return e.async.forEach(a,(f,p)=>{if(!e.isPromise(f)){c[p]=f;return}if(f._state===1){c[p]=f._value;return}return f.then(u=>{c[p]=u})}).then(()=>c)},e.async.forEach=function(a,c){const f=a?a.length:0;let p=0;function u(){let h=null;do{if(p===f)return e.Promise.resolve();h=c(a[p],p),p++}while(!h||!e.isPromise(h)||h._state===1);return h.then(u)}return u()},e}),ht}var dt,fr;function hs(){return fr||(fr=1,dt=function(e){return e.exports={VERSION:e.VERSION},e.exports.twig=function(s){const{id:t}=s,r={strictVariables:s.strict_variables||!1,autoescape:s.autoescape!==null&&s.autoescape||!1,allowInlineIncludes:s.allowInlineIncludes||!1,rethrow:s.rethrow||!1,namespaces:s.namespaces};if(e.cache&&t&&e.validateId(t),s.debug!==void 0&&(e.debug=s.debug),s.trace!==void 0&&(e.trace=s.trace),s.data!==void 0)return e.Templates.parsers.twig({data:s.data,path:Object.hasOwnProperty.call(s,"path")?s.path:void 0,module:s.module,id:t,options:r});if(s.ref!==void 0){if(s.id!==void 0)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(s.ref)}if(s.method!==void 0){if(!e.Templates.isRegisteredLoader(s.method))throw new e.Error('Loader for "'+s.method+'" is not defined.');return e.Templates.loadRemote(s.name||s.href||s.path||t||void 0,{id:t,method:s.method,parser:s.parser||"twig",base:s.base,module:s.module,precompiled:s.precompiled,async:s.async,options:r},s.load,s.error)}if(s.href!==void 0)return e.Templates.loadRemote(s.href,{id:t,method:"ajax",parser:s.parser||"twig",base:s.base,module:s.module,precompiled:s.precompiled,async:s.async,options:r},s.load,s.error);if(s.path!==void 0)return e.Templates.loadRemote(s.path,{id:t,method:"fs",parser:s.parser||"twig",base:s.base,module:s.module,precompiled:s.precompiled,async:s.async,options:r},s.load,s.error)},e.exports.extendFilter=function(s,t){e.filter.extend(s,t)},e.exports.extendFunction=function(s,t){e._function.extend(s,t)},e.exports.extendTest=function(s,t){e.test.extend(s,t)},e.exports.extendTag=function(s){e.logic.extend(s)},e.exports.extend=function(s){s(e)},e.exports.compile=function(s,t){const r=t.filename,n=t.filename,o=new e.Template({data:s,path:n,id:r,options:t.settings["twig options"]});return function(i){return o.render(i)}},e.exports.renderFile=function(s,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};const n=t.settings||{},o=n["twig options"],i={path:s,base:n.views,load(a){if(!o||!o.allowAsync){r(null,String(a.render(t)));return}a.renderAsync(t).then(c=>r(null,c),r)},error(a){r(a)}};if(o)for(const a in o)Object.hasOwnProperty.call(o,a)&&(i[a]=o[a]);e.exports.twig(i)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(s){e.cache=s},e.exports.path=e.path,e.exports.filters=e.filters,e.exports.tests=e.tests,e.exports.functions=e.functions,e.exports.Promise=e.Promise,e}),dt}var yt,hr;function ds(){return hr||(hr=1,yt=function e(){const s={VERSION:"1.17.1"};return Bn()(s),Vn()(s),Yn()(s),Hn()(s),Gn()(s),rs()(s),ns()(s),is()(s),as()(s),cs()(s),ls()(s),ps()(s),us()(s),fs()(s),hs()(s),s.exports.factory=e,s.exports}),yt}/**
 * Twig.js
 *
 * @copyright 2011-2020 John Roepke and the Twig.js Contributors
 * @license   Available under the BSD 2-Clause License
 * @link      https://github.com/twigjs/twig.js
 */var mt,dr;function ys(){return dr||(dr=1,mt=ds()()),mt}var ms=ys();const Ar=Ne(ms);var xt,yr;function xs(){if(yr)return xt;yr=1;class e extends Map{constructor(t){super(t)}addClass(t){let r=this,n=[];for(let o=0;o<arguments.length;o++)n.push(arguments[o]);return n.forEach(function(o){Array.isArray(o)||(o=[o]),r.has("class")||r.setAttribute("class",[]);let i=r.get("class");o.forEach(function(a){i.indexOf(a)<0&&i.push(a)})}),this}removeClass(t){let r=[];return this.has("class")&&(r=this.get("class")),Array.isArray(t)||(t=[t]),t.forEach(function(n){let o=r.indexOf(n);o>-1&&r.splice(o,1)}),this}hasClass(t){let r=[];return this.has("class")&&(r=this.get("class")),r.indexOf(t)>-1}setAttribute(t,r){return this.set(t,r),this}removeAttribute(t){return this.delete(t),this}toString(){let t="",r=[];this.forEach(function(o,i){Array.isArray(o)&&(o=o.join(" ")),r.push([i,'"'+o+'"'].join("="))});let n=r.join(" ");return n&&(t+=" "+n),t}merge(t){let r=Object.fromEntries(this),n=Object.fromEntries(t),o=this.mergeDeep(r,n);this.clear();for(let i in o)this.set(i,o[i]);return this}mergeDeep(t,r){for(let n in r)r[n]instanceof Array?(t[n]||(t[n]=[]),t[n]=Array.from(new Set(t[n].concat(r[n])))):r[n]instanceof Object?(t[n]||(t[n]={}),Object.assign(r[n],this.mergeDeep(t[n],r[n]))):t[n]=r[n];return t}}return xt=e,xt}var bs=xs();const mr=Ne(bs),U=(e,s,t={},r=[])=>[e,s],gs=(e,s={},t=[])=>U(e,function(){return""},s,t),Oe=(e,s={},t=[])=>U(e,function(r){return r},s,t);var bt={},xr;function _s(){if(xr)return bt;xr=1;const e={};return bt.state=e,bt}var vs=_s();const pe=vs.state,ks="clean_class",Es={},As=[];function Ss(e,s){const t=String(s);return Object.prototype.hasOwnProperty.call(e.cleanClassCache,t)||(e.cleanClassCache[t]=Os(t.toLowerCase())),e.cleanClassCache[t]}function Os(e,s){typeof s>"u"&&(s={" ":"-",_:"-","/":"-","[":"-","]":""});let t=0;return Object.prototype.hasOwnProperty.call(s,"__")||(e=e.replace(/__/g,function(){return t+=1,"##"})),e=e.replace(new RegExp(Object.keys(s).map(function(r){return"("+r.replace(/[\\?*+|.^${}[\]()]/g,"\\$&")+")"}).join("|"),"g"),function(r){return s[r]}),t>0&&(e=e.replace(/##/g,"__")),e=e.replace(/(?:[\0-,./:-@[-^`{-\u00A0]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,""),e=e.replace(/^\d/g,"_").replace(/^(-\d)|^(--)/g,"__"),e}function Ns(e){e.cleanClassCache={}}function Rs(e){return Ss(pe,e)}const js=U(ks,Rs,Es,As),Ps="clean_id",Cs={},Ms=[];function $s(e){if(!e||!e.toLowerCase)return"";const s={" ":"-",_:"-","[":"-","]":""};return e=e.toLowerCase().replace(new RegExp(Object.keys(s).map(function(t){return`(${t.replace(/[\\?*+|.^${}[\]()]/g,"\\$&")})`}).join("|"),"g"),function(t){return s[t]}),e=e.replace(/[^A-Za-z0-9\-_]/g,""),e=e.replace(/-+/g,"-"),e}const Fs=$s,Ds=U(Ps,Fs,Cs,Ms),Ls="drupal_escape",Is={},qs=[{name:"strategy",defaultValue:"html"},{name:"charset",defaultValue:null}],Sr=Ar.filters.escape,Us=U(Ls,Sr,Is,qs);var zs=Er();const Bs=Ne(zs),Vs="format_date",Ws={},Ys=[{name:"type",defaultValue:"medium"},{name:"format",defaultValue:""},{name:"timezone",defaultValue:null},{name:"langcode",defaultValue:null}];function Hs(e,s,t="medium",r="",n=null,o=null){return t!=="custom"&&(r=e.dateFormats[t]),r||(r=e.dateFormats.fallback),Bs(r,s)}function Gs(e,s){e.dateFormats={short:"m/d/Y - H:i",medium:"D, m/d/Y - H:i",long:"l, F j, Y - H:i",html_datetime:"Y-m-dTH:i:sO",html_date:"Y-m-d",html_time:"H:i:s",html_yearless_date:"m-d",html_week:"Y-WW",html_month:"Y-m",html_year:"Y",fallback:"D, m/d/Y - H:i"},Object.prototype.hasOwnProperty.call(s,"date_format")&&(e.dateFormats={...e.dateFormats,...s.date_format})}function Ks(e,s){const t=s[0],r=s[1],n=s[2],o=s[3];return Hs(pe,e,t,r,n,o)}const Zs=U(Vs,Ks,Ws,Ys),Js="placeholder",Xs={},Qs=[];function ws(e){return e?`<em class="placeholder">${e}</em>`:null}function Ts(e){return ws(Sr(e,["html"]))}const eo=U(Js,Ts,Xs,Qs),to="render",ro={},no=[];function Or(e){const s=e===null?"null":Array.isArray(e)?"array":typeof e;if(s==="null"||s==="undefined"||s==="array"&&e.length===0||s==="object"&&Object.keys(e).length===0||e===""||e===!1)return"";if(e===!0)return"1";if(s==="number"||s==="bigint"||s==="string")return e;if(s==="symbol")return e.description;if(s==="array")return"";if(typeof e.toRenderable=="function")return e.toRenderable();if(typeof e.__toString=="function")return e.__toString();if(s==="function")throw new Error("A function cannot be printed.");return e["#printed"]&&e["#markup"]?e["#markup"]:(e["#printed"]=!1,`${e}`)}const so=Or,oo=U(to,so,ro,no),io="safe_join",ao={},co=[{name:"glue",defaultValue:""}],lo=Ar.filters.join,po=U(io,lo,ao,co),br={},gr=[{name:"args",defaultValue:{}},{name:"options",defaultValue:{}}];var de={exports:{}};de.exports;var _r;function uo(){return _r||(_r=1,function(e,s){var t=200,r="__lodash_hash_undefined__",n=9007199254740991,o="[object Arguments]",i="[object Array]",a="[object Boolean]",c="[object Date]",f="[object Error]",p="[object Function]",u="[object GeneratorFunction]",h="[object Map]",y="[object Number]",x="[object Object]",A="[object Promise]",R="[object RegExp]",N="[object Set]",D="[object String]",M="[object Symbol]",z="[object WeakMap]",$="[object ArrayBuffer]",C="[object DataView]",F="[object Float32Array]",q="[object Float64Array]",B="[object Int8Array]",H="[object Int16Array]",ye="[object Int32Array]",G="[object Uint8Array]",se="[object Uint8ClampedArray]",me="[object Uint16Array]",xe="[object Uint32Array]",Re=/[\\^$.*+?()[\]{}|]/g,ee=/\w*$/,K=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,P={};P[o]=P[i]=P[$]=P[C]=P[a]=P[c]=P[F]=P[q]=P[B]=P[H]=P[ye]=P[h]=P[y]=P[x]=P[R]=P[N]=P[D]=P[M]=P[G]=P[se]=P[me]=P[xe]=!0,P[f]=P[p]=P[z]=!1;var ue=typeof Se=="object"&&Se&&Se.Object===Object&&Se,je=typeof self=="object"&&self&&self.Object===Object&&self,Y=ue||je||Function("return this")(),be=s&&!s.nodeType&&s,S=be&&!0&&e&&!e.nodeType&&e,Pe=S&&S.exports===be;function v(l,d){return l.set(d[0],d[1]),l}function _(l,d){return l.add(d),l}function m(l,d){for(var g=-1,O=l?l.length:0;++g<O&&d(l[g],g,l)!==!1;);return l}function b(l,d){for(var g=-1,O=d.length,I=l.length;++g<O;)l[I+g]=d[g];return l}function k(l,d,g,O){for(var I=-1,V=l?l.length:0;++I<V;)g=d(g,l[I],I,l);return g}function E(l,d){for(var g=-1,O=Array(l);++g<l;)O[g]=d(g);return O}function j(l,d){return l==null?void 0:l[d]}function L(l){var d=!1;if(l!=null&&typeof l.toString!="function")try{d=!!(l+"")}catch{}return d}function Q(l){var d=-1,g=Array(l.size);return l.forEach(function(O,I){g[++d]=[I,O]}),g}function w(l,d){return function(g){return l(d(g))}}function oe(l){var d=-1,g=Array(l.size);return l.forEach(function(O){g[++d]=O}),g}var Rr=Array.prototype,jr=Function.prototype,ge=Object.prototype,Ce=Y["__core-js_shared__"],_t=function(){var l=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),vt=jr.toString,T=ge.hasOwnProperty,_e=ge.toString,Pr=RegExp("^"+vt.call(T).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=Pe?Y.Buffer:void 0,Et=Y.Symbol,At=Y.Uint8Array,Cr=w(Object.getPrototypeOf,Object),Mr=Object.create,$r=ge.propertyIsEnumerable,Fr=Rr.splice,St=Object.getOwnPropertySymbols,Dr=kt?kt.isBuffer:void 0,Lr=w(Object.keys,Object),Me=ce(Y,"DataView"),fe=ce(Y,"Map"),$e=ce(Y,"Promise"),Fe=ce(Y,"Set"),De=ce(Y,"WeakMap"),he=ce(Object,"create"),Ir=ne(Me),qr=ne(fe),Ur=ne($e),zr=ne(Fe),Br=ne(De),Ot=Et?Et.prototype:void 0,Nt=Ot?Ot.valueOf:void 0;function te(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var O=l[d];this.set(O[0],O[1])}}function Vr(){this.__data__=he?he(null):{}}function Wr(l){return this.has(l)&&delete this.__data__[l]}function Yr(l){var d=this.__data__;if(he){var g=d[l];return g===r?void 0:g}return T.call(d,l)?d[l]:void 0}function Hr(l){var d=this.__data__;return he?d[l]!==void 0:T.call(d,l)}function Gr(l,d){var g=this.__data__;return g[l]=he&&d===void 0?r:d,this}te.prototype.clear=Vr,te.prototype.delete=Wr,te.prototype.get=Yr,te.prototype.has=Hr,te.prototype.set=Gr;function J(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var O=l[d];this.set(O[0],O[1])}}function Kr(){this.__data__=[]}function Zr(l){var d=this.__data__,g=ve(d,l);if(g<0)return!1;var O=d.length-1;return g==O?d.pop():Fr.call(d,g,1),!0}function Jr(l){var d=this.__data__,g=ve(d,l);return g<0?void 0:d[g][1]}function Xr(l){return ve(this.__data__,l)>-1}function Qr(l,d){var g=this.__data__,O=ve(g,l);return O<0?g.push([l,d]):g[O][1]=d,this}J.prototype.clear=Kr,J.prototype.delete=Zr,J.prototype.get=Jr,J.prototype.has=Xr,J.prototype.set=Qr;function ie(l){var d=-1,g=l?l.length:0;for(this.clear();++d<g;){var O=l[d];this.set(O[0],O[1])}}function wr(){this.__data__={hash:new te,map:new(fe||J),string:new te}}function Tr(l){return ke(this,l).delete(l)}function en(l){return ke(this,l).get(l)}function tn(l){return ke(this,l).has(l)}function rn(l,d){return ke(this,l).set(l,d),this}ie.prototype.clear=wr,ie.prototype.delete=Tr,ie.prototype.get=en,ie.prototype.has=tn,ie.prototype.set=rn;function ae(l){this.__data__=new J(l)}function nn(){this.__data__=new J}function sn(l){return this.__data__.delete(l)}function on(l){return this.__data__.get(l)}function an(l){return this.__data__.has(l)}function cn(l,d){var g=this.__data__;if(g instanceof J){var O=g.__data__;if(!fe||O.length<t-1)return O.push([l,d]),this;g=this.__data__=new ie(O)}return g.set(l,d),this}ae.prototype.clear=nn,ae.prototype.delete=sn,ae.prototype.get=on,ae.prototype.has=an,ae.prototype.set=cn;function ln(l,d){var g=qe(l)||$n(l)?E(l.length,String):[],O=g.length,I=!!O;for(var V in l)T.call(l,V)&&!(I&&(V=="length"||jn(V,O)))&&g.push(V);return g}function Rt(l,d,g){var O=l[d];(!(T.call(l,d)&&Mt(O,g))||g===void 0&&!(d in l))&&(l[d]=g)}function ve(l,d){for(var g=l.length;g--;)if(Mt(l[g][0],d))return g;return-1}function pn(l,d){return l&&jt(d,Ue(d),l)}function Le(l,d,g,O,I,V,X){var W;if(O&&(W=V?O(l,I,V,X):O(l)),W!==void 0)return W;if(!Ee(l))return l;var Dt=qe(l);if(Dt){if(W=On(l),!d)return En(l,W)}else{var le=re(l),Lt=le==p||le==u;if(Dn(l))return mn(l,d);if(le==x||le==o||Lt&&!V){if(L(l))return V?l:{};if(W=Nn(Lt?{}:l),!d)return An(l,pn(W,l))}else{if(!P[le])return V?l:{};W=Rn(l,le,Le,d)}}X||(X=new ae);var It=X.get(l);if(It)return It;if(X.set(l,W),!Dt)var qt=g?Sn(l):Ue(l);return m(qt||l,function(ze,Ae){qt&&(Ae=ze,ze=l[Ae]),Rt(W,Ae,Le(ze,d,g,O,Ae,l,X))}),W}function un(l){return Ee(l)?Mr(l):{}}function fn(l,d,g){var O=d(l);return qe(l)?O:b(O,g(l))}function hn(l){return _e.call(l)}function dn(l){if(!Ee(l)||Cn(l))return!1;var d=Ft(l)||L(l)?Pr:K;return d.test(ne(l))}function yn(l){if(!Ct(l))return Lr(l);var d=[];for(var g in Object(l))T.call(l,g)&&g!="constructor"&&d.push(g);return d}function mn(l,d){if(d)return l.slice();var g=new l.constructor(l.length);return l.copy(g),g}function Ie(l){var d=new l.constructor(l.byteLength);return new At(d).set(new At(l)),d}function xn(l,d){var g=d?Ie(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function bn(l,d,g){var O=d?g(Q(l),!0):Q(l);return k(O,v,new l.constructor)}function gn(l){var d=new l.constructor(l.source,ee.exec(l));return d.lastIndex=l.lastIndex,d}function _n(l,d,g){var O=d?g(oe(l),!0):oe(l);return k(O,_,new l.constructor)}function vn(l){return Nt?Object(Nt.call(l)):{}}function kn(l,d){var g=d?Ie(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function En(l,d){var g=-1,O=l.length;for(d||(d=Array(O));++g<O;)d[g]=l[g];return d}function jt(l,d,g,O){g||(g={});for(var I=-1,V=d.length;++I<V;){var X=d[I],W=void 0;Rt(g,X,W===void 0?l[X]:W)}return g}function An(l,d){return jt(l,Pt(l),d)}function Sn(l){return fn(l,Ue,Pt)}function ke(l,d){var g=l.__data__;return Pn(d)?g[typeof d=="string"?"string":"hash"]:g.map}function ce(l,d){var g=j(l,d);return dn(g)?g:void 0}var Pt=St?w(St,Object):qn,re=hn;(Me&&re(new Me(new ArrayBuffer(1)))!=C||fe&&re(new fe)!=h||$e&&re($e.resolve())!=A||Fe&&re(new Fe)!=N||De&&re(new De)!=z)&&(re=function(l){var d=_e.call(l),g=d==x?l.constructor:void 0,O=g?ne(g):void 0;if(O)switch(O){case Ir:return C;case qr:return h;case Ur:return A;case zr:return N;case Br:return z}return d});function On(l){var d=l.length,g=l.constructor(d);return d&&typeof l[0]=="string"&&T.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function Nn(l){return typeof l.constructor=="function"&&!Ct(l)?un(Cr(l)):{}}function Rn(l,d,g,O){var I=l.constructor;switch(d){case $:return Ie(l);case a:case c:return new I(+l);case C:return xn(l,O);case F:case q:case B:case H:case ye:case G:case se:case me:case xe:return kn(l,O);case h:return bn(l,O,g);case y:case D:return new I(l);case R:return gn(l);case N:return _n(l,O,g);case M:return vn(l)}}function jn(l,d){return d=d??n,!!d&&(typeof l=="number"||Z.test(l))&&l>-1&&l%1==0&&l<d}function Pn(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function Cn(l){return!!_t&&_t in l}function Ct(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||ge;return l===g}function ne(l){if(l!=null){try{return vt.call(l)}catch{}try{return l+""}catch{}}return""}function Mn(l){return Le(l,!0,!0)}function Mt(l,d){return l===d||l!==l&&d!==d}function $n(l){return Fn(l)&&T.call(l,"callee")&&(!$r.call(l,"callee")||_e.call(l)==o)}var qe=Array.isArray;function $t(l){return l!=null&&Ln(l.length)&&!Ft(l)}function Fn(l){return In(l)&&$t(l)}var Dn=Dr||Un;function Ft(l){var d=Ee(l)?_e.call(l):"";return d==p||d==u}function Ln(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=n}function Ee(l){var d=typeof l;return!!l&&(d=="object"||d=="function")}function In(l){return!!l&&typeof l=="object"}function Ue(l){return $t(l)?ln(l):yn(l)}function qn(){return[]}function Un(){return!1}e.exports=Mn}(de,de.exports)),de.exports}var fo=uo();const ho=Ne(fo),yo="without",mo={};function xo(e){if(!e)return{};const s=ho(e);let t=Array.prototype.slice.call(arguments,1);if(t.length){let r=[];t.forEach(n=>{Array.isArray(n)?r=r.concat(n):r.push(n)}),r.forEach(n=>{delete s[n]})}return s}function bo(e,s){return xo(e,...s)}const go=U(yo,bo,mo),_o=[js,Ds,Us,Zs,eo,oo,po,Oe("t",br,gr),Oe("trans",br,gr),go],vo="active_theme",ko={},Eo=[];function Ao(e){return e.activeTheme}function So(e,s){e.activeTheme="stark",Object.prototype.hasOwnProperty.call(s,"active_theme")&&(e.activeTheme=s.active_theme)}function Oo(){return Ao(pe)}const No=U(vo,Oo,ko,Eo),Ro="active_theme_path",jo={},Po=[];function Co(e){return e.activeThemePath}function Mo(e,s){if(Object.prototype.hasOwnProperty.call(s,"active_theme_path"))e.activeThemePath=s.active_theme_path;else switch(e.activeTheme){case"bartik":case"claro":case"classy":case"olivero":case"seven":case"stable":case"stable9":case"stark":e.activeThemePath=`core/themes/${e.activeTheme}`;break;case"umami":e.activeThemePath="core/profiles/demo_umami/themes/umami";break;default:e.activeThemePath=`themes/custom/${e.activeTheme}`;break}}function $o(){return Co(pe)}const Fo=U(Ro,$o,jo,Po),Do={},Lo=[{name:"library"}],Io="create_attribute",qo={},Uo=[{name:"attributes",defaultValue:{}}];function Nr(e={}){let s;return e instanceof Map||Array.isArray(e)?s=new mr(e):(s=new mr,e&&Object.keys(e).forEach(t=>{t==="class"&&!Array.isArray(e[t])?s.setAttribute(t,[e[t]]):s.setAttribute(t,e[t])})),s}const zo=Nr,Bo=U(Io,zo,qo,Uo),Vo="file_url",Wo={},Yo=[{name:"uri"}];function Ho(e,s){const t=`${s}`,r=/^([\w-]+):\/\//;return r.test(t)&&Object.keys(e.streamWrapper).includes(t.match(r)[0])?`${e.baseUrl}${t.replace(r,n=>e.streamWrapper[n]+"/")}`:(t.slice(0,1)==="/",t)}function Go(e,s){e.baseUrl="/",e.streamWrapper={"public://":"sites/default/files","private://":"sites/default/private","temporary://":"sites/default/tmp"},Object.prototype.hasOwnProperty.call(s,"base_url")&&(e.baseUrl=s.base_url,e.baseUrl.slice(-1)!=="/"&&(e.baseUrl+="/")),Object.prototype.hasOwnProperty.call(s,"streamWrapper")&&(e.streamWrapper={...e.streamWrapper,...s.streamWrapper})}function Ko(e){return Ho(pe,e)}const Zo=U(Vo,Ko,Wo,Yo),Jo="link",Xo={},Qo=[{name:"text"},{name:"url"},{name:"attributes",defaultValue:{}}];function wo(e,s,t={}){return`<a href="${s}"${Nr(t)}>${e}</a>`}const To=wo,ei=U(Jo,To,Xo,Qo),ti={},ri=[{name:"name"},{name:"parameters",defaultValue:{}},{name:"options",defaultValue:{}}],ni="render_var",si={},oi=Or,ii=U(ni,oi,si),ai={},ci=[{name:"name"},{name:"parameters",defaultValue:{}},{name:"options",defaultValue:{}}],li=[No,Fo,gs("attach_library",Do,Lo),Bo,Zo,ei,Oe("path",ti,ri),ii,Oe("url",ai,ci)],pi=[Ns,Gs],ui=[So,Mo,Go];function hi(e,s={}){_o.forEach(t=>{e.extendFilter(...t)}),li.forEach(t=>{e.extendFunction(...t)}),[...pi,...ui].forEach(t=>{t(pe,s)})}export{mr as D,Ar as T,hi as a,ms as t};
